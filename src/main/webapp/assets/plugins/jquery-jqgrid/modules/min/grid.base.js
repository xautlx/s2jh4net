/**
 * @license jqGrid 4.15.1 - free jqGrid: https://github.com/free-jqgrid/jqGrid
 * Copyright (c) 2008-2014, Tony Tomov, tony@trirand.com
 * Copyright (c) 2014-2017, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2017-09-30
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(r){return t(r,e.document)}):"object"==typeof module&&module.exports?module.exports=function(e,r){return e||(e=window),void 0===r&&(r="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(r,e.document),r}:t(jQuery,e.document)}("undefined"!=typeof window?window:this,function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){var t=["st","nd","rd","th"];return e<11||e>13?t[Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.15.1",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-caret-1-sw",openRtl:"ui-icon-caret-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-secondary",fmButton:"btn btn-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-secondary",actionsDiv:"",actionsButton:"btn btn-xs btn-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-secondary",deleteRuleButton:"btn btn-xs btn-secondary",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-secondary",deleteGroupButton:"btn btn-xs btn-secondary"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-secondary",clearButton:"btn btn-xs btn-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;e.length>0;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,r){return t[r]})},template:function(e){var t,r=$.makeArray(arguments).slice(1),i=r.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(e,a){var o,l;if(!isNaN(parseInt(a,10)))return r[parseInt(a,10)];for(t=0;t<i;t++)if($.isArray(r[t]))for(l=(o=r[t]).length;l--;)if(a===o[l].nm)return o[l].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?null!=(e=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&3===e.length&&(t=parseFloat(e[2]||-1)):"Netscape"===navigator.appName&&null!=(e=/rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent))&&2===e.length&&(t=parseFloat(e[1]||-1)),t},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,r,i=e instanceof $&&e.length>0?e[0]:e,a=$(i).outerHeight(),o=$(this).closest(".ui-jqgrid")[0];return o?(t=null!=i.getBoundingClientRect?i.getBoundingClientRect():$(i).offset(),r=null!=o.getBoundingClientRect?o.getBoundingClientRect():$(o).offset(),{top:t.top+a-r.top,left:t.left-r.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:null==(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0])?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):"":e},stripPref:function(e,t){var r=$.type(e);return"string"!==r&&"number"!==r||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},getRes:function(e,t){var r,i=t.split("."),a=i.length;if(null!=e){for(r=0;r<a;r++){if(!i[r])return null;if(void 0===(e=e[i[r]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,r,i){var a,o,l,n=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,s=0,d=0,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g,u=/[^\-+\dA-Z]/g,g="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,p=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},f={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===(i=function(e,t){var r,i,a=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],o=t||{},l=(jgrid.formatter||{}).date||{},n=((locales[(e||$.jgrid.defaults).locale]||{}).formatter||{}).date,s=a.length,d={};for(r=0;r<s;r++)void 0!==o[i=a[r]]?d[i]=o[i]:void 0!==l[i]?d[i]=l[i]:void 0!==n[i]&&(d[i]=n[i]);return d}(this.p,i)).parseRe&&(i.parseRe=/[#%\\\/:_;.,\t\s\-]/),i.masks.hasOwnProperty(e)&&(e=i.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)s=t;else if(null!==g)s=new Date(parseInt(g[1],10)),g[3]&&(d=60*Number(g[5])+Number(g[6]),d*="-"===g[4]?1:-1,d-=s.getTimezoneOffset(),s.setTime(Number(Number(s)+60*d*1e3)));else{for("ISO8601Long"===i.srcformat&&"Z"===t.charAt(t.length-1)&&(d-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),o=0,l=Math.min(e.length,t.length);o<l;o++){switch(e[o]){case"M":-1!==(a=$.inArray(t[o],i.monthNames))&&a<12&&(t[o]=a+1,f.m=t[o]);break;case"F":-1!==(a=$.inArray(t[o],i.monthNames,12))&&a>11&&(t[o]=a+1-12,f.m=t[o]);break;case"n":f.m=parseInt(t[o],10);break;case"j":f.d=parseInt(t[o],10);break;case"g":f.h=parseInt(t[o],10);break;case"a":-1!==(a=$.inArray(t[o],i.AmPm))&&a<2&&t[o]===i.AmPm[a]&&(t[o]=a,f.h=h(t[o],f.h));break;case"A":-1!==(a=$.inArray(t[o],i.AmPm))&&a>1&&t[o]===i.AmPm[a]&&(t[o]=a-2,f.h=h(t[o],f.h))}void 0!==t[o]&&(f[e[o].toLowerCase()]=parseInt(t[o],10))}if(f.f&&(f.m=f.f),0===f.m&&0===f.y&&0===f.d)return"&#160;";f.m=parseInt(f.m,10)-1;var m=f.y;m>=70&&m<=99?f.y=1900+f.y:m>=0&&m<=69&&(f.y=2e3+f.y),s=new Date(f.y,f.m,f.d,f.h,f.i,f.s,f.u),0!==d&&s.setTime(Number(Number(s)+60*d*1e3))}else s=new Date(parseFloat(t));else s=new Date(1e3*parseFloat(t));else s=new Date(f.y,f.m,f.d,f.h,f.i,f.s,f.u);if(i.userLocalTime&&0===d&&0!==(d-=(new Date).getTimezoneOffset())&&s.setTime(Number(Number(s)+60*d*1e3)),void 0===r)return s;if(i.masks.hasOwnProperty(r)?r=i.masks[r]:r||(r="Y-m-d"),"u1000"===r.toLowerCase())return s.getTime();var v=s.getHours(),b=s.getMinutes(),w=s.getDate(),y=s.getMonth()+1,C=s.getTimezoneOffset(),x=s.getSeconds(),j=s.getMilliseconds(),D=s.getDay(),_=s.getFullYear(),R=(D+6)%7+1,S=(new Date(_,y-1,w)-new Date(_,0,1))/864e5,N=R<5?Math.floor((S+R-1)/7)+1:Math.floor((S+R-1)/7)||((new Date(_-1,0,1).getDay()+6)%7<4?53:52),I={d:p(w),D:i.dayNames[D],j:w,l:i.dayNames[D+7],N:R,S:i.S(w),w:D,z:S,W:N,F:i.monthNames[y-1+12],m:p(y),M:i.monthNames[y-1],n:y,t:"?",L:"?",o:"?",Y:_,y:String(_).substring(2),a:v<12?i.AmPm[0]:i.AmPm[1],A:v<12?i.AmPm[2]:i.AmPm[3],B:"?",g:v%12||12,G:v,h:p(v%12||12),H:p(v),i:p(b),s:p(x),u:j,e:"?",I:"?",O:(C>0?"-":"+")+p(100*Math.floor(Math.abs(C)/60)+Math.abs(C)%60,4),P:"?",T:(String(s).match(c)||[""]).pop().replace(u,""),Z:"?",c:"?",r:"?",U:Math.floor(s/1e3)};return r.replace(n,function(e){return I.hasOwnProperty(e)?I[e]:e.substring(1)})},parseDateToNumber:function(e,t){var r=jgrid.parseDate.call(this,e,t);return r instanceof Date?r.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){var t=this;if(null==t.p||!t.p.id)return"";var r=t.p.id;switch(e){case COMPONENT_NAMES.GRID:return r;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+r;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+r;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+r;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+r;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+r;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var r;if(t instanceof $||t.length>0)r=t[0];else{if(!jgrid.isHTMLElement(t))return $();t=$(r=t)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this,t=e.grid;if(t){var r=e.p,i=t.bDiv,a=function(e){var t=$(e).children("div").first();t.css(t.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",r.scrollOffset),e.scrollLeft=i.scrollLeft};$(i).width()>0&&(r.scrollOffset=i.offsetWidth-i.clientWidth,a(t.hDiv),t.sDiv&&a(t.sDiv))}},mergeCssClasses:function(){var e,t,r,i,a=$.makeArray(arguments),o={},l=[];for(e=0;e<a.length;e++)for(r=String(a[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<r.length;t++)""===(i=r[t])||o.hasOwnProperty(i)||(o[i]=!0,l.push(i));return l.join(" ")},hasOneFromClasses:function(e,t){var r,i=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),o=a.length;for(r=0;r<o;r++)if(i.hasClass(a[r]))return!0;return!1},hasAllClasses:function(e,t){var r,i=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),o=a.length;for(r=0;r<o;r++)if(!i.hasClass(a[r]))return!1;return!0},detectRowEditing:function(e){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[e]?this.p.editingInfo[e]:null},getCell:function(e,t){var r,i,a=this.grid,o=this.p;return a&&o?((e instanceof $||e.length>0)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(i=$(e.cells[t]),null!=(r=a.fbRows)&&t<r[0].cells.length?i.add(r[e.rowIndex].cells[t]):i):$()):$()},getDataFieldOfCell:function(e,t){var r,i=this.p,a=jgrid.getCell.call(this,e,t);return i.treeGrid&&a.children("div.tree-wrap").length>0&&(a=a.children("span.cell-wrapperleaf,span.cell-wrapper")),i.colModel[t].autoResizable?0===(r=a.children("span."+i.autoResizing.wrapperClassName)).length&&(r=a):r=a,r},enumEditableCells:function(e,t,r){var i=this,a=i.grid,o=i.rows,l=i.p;if(null==a||null==o||null==l||null==e||null==e.rowIndex||!e.id||!$.isFunction(r))return null;var n,s,d,c,u,g,p,f,h,m,v,b=l.colModel,w=b.length,y=e.rowIndex,C=a.fbRows,x=null!=C,j=x?C[y]:null;for(x&&(e=i.rows[y]),n=0;n<w&&(s=b[n],"cb"===(d=s.name)||"subgrid"===d||"rn"===d||(x&&!s.frozen&&(x=!1),h=(x?j:e).cells[n],(m=$(h)).hasClass("not-editable-cell")||(v=m.width(),!0===l.treeGrid&&d===l.ExpandColumn?(v-=m.children("div.tree-wrap").outerWidth(),m=m.children("span.cell-wrapperleaf,span.cell-wrapper").first()):v=0,u=stripPref(l.idPrefix,e.id),c={rowid:e.id,id:u,iCol:n,iRow:y,cmName:d,cm:s,mode:t,td:h,tr:e,trFrozen:j,dataElement:m[0],dataWidth:v},"local"===l.datatype&&(p=null!=(g=l._index[u])?l.data[g]:void 0)&&(c.item=p),s.edittype||(s.edittype="text"),((l.editingInfo[e.id]||{}).editable||{}).hasOwnProperty(d)?f=l.editingInfo[e.id].editable[d]:(f=s.editable,f=$.isFunction(f)?f.call(i,c):f),!0!==f&&"hidden"!==f||(c.editable=f,!1!==r.call(i,c)))));n++);},getEditedValue:function(e,t,r,i){var a,o,l,n,s,d,c=t.formatoptions||{},u=t.editoptions||{},g=u.custom_value,p="[name="+jgrid.jqID(t.name)+"]",f=this,h=$(f);if("hidden"===i||"readonly"===i)return $(f).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":o=["Yes","No"],"string"==typeof u.value&&(o=u.value.split(":")),a=e.find("input[type=checkbox]").is(":checked")?o[0]:o[1];break;case"text":case"password":case"textarea":case"button":a=(n=e.find("input"+p+",textarea"+p)).val(),"date"===n.prop("type")&&3===String(a).split("-").length&&(l=c.newformat||h.jqGrid("getGridRes","formatter.date.newformat"),a=jgrid.parseDate.call(f,"Y-m-d",a,l));break;case"select":n=e.find("select option:selected"),u.multiple?(s=[],d=[],n.each(function(){s.push($(this).val()),d.push($(this).text())}),a=s.join(","),r.text=d.join(",")):(a=n.val(),r.text=n.text()),r.value=a;break;case"custom":try{if(!$.isFunction(g))throw"e1";if(void 0===(a=g.call(f,e.find(".customelement"),"get")))throw"e2"}catch(e){var m,v=jgrid.info_dialog,b=function(e){h.jqGrid("getGridRes",e)};switch(String(e)){case"e1":m="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:m=e.message}v&&$.isFunction(v)?v.call(f,b("errors.errcap"),m,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(m)}break;default:a=e.find("*"+p).text()}return a},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var r,i,a=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(a=t.split(".")),i=a.length)for(r=e;null!=r&&i--;)r=r[a.shift()]}catch(e){}return r},getXmlData:function(e,t,r){var i="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(i&&i[2])return i[1]?$(i[1],e).attr(i[2]):$(e).attr(i[2]);if(void 0!==e){var a=$(e).find(t);return r?a:a.length>0?$(a).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isCellClassHidden:function(e){if(null==e||""===e)return!1;var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),r=t.appendTo("body").find("td").is(":hidden");return t.remove(),r},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(d.length>0&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(r,i){t.push(e(i))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,r){return void 0===r&&(r=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)?e<t?-r:e>t?r:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-r:e>t?r:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var r=_sorting[t].by,i=_sorting[t].dir,a=_sorting[t].type,o=_sorting[t].datefmt,l=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,r,i,a,o,l);t++;var n,s,d,c=self._getGroup(e,r,i,a,o),u=[];for(n=0;n<c.length;n++)for(d=self._doSort(c[n].items,t),s=0;s<d.length;s++)u.push(d[s]);return u},this._getOrder=function(e,t,r,i,a,o){var l,n,s,d=[],c=[],u="a"===r?1:-1;void 0===i&&(i="text"),s="float"===i||"number"===i||"currency"===i||"numeric"===i?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===i||"integer"===i?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===i||"datetime"===i?function(e){return jgrid.parseDateToNumber.call(context,a,e)}:$.isFunction(i)?i:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,function(e,r){void 0===(n=""!==t?jgrid.getAccessor(r,t):r)&&(n=""),n=s.call(context,n,r),c.push({vSort:n,data:r,index:e})}),$.isFunction(o)?c.sort(function(e,t){return o.call(context,e.vSort,t.vSort,u,e.data,t.data)}):c.sort(function(e,t){return self._compare(e.vSort,t.vSort,u)});for(var g=0,p=e.length;g<p;)l=c[g].index,d.push(e[l]),g++;return d},this._getGroup=function(e,t,r,i,a){var o=[],l=null,n=null;return $.each(self._getOrder(e,t,r,i,a),function(e,r){var i=jgrid.getAccessor(r,t);null==i&&(i=""),self._equals(n,i)||(n=i,null!==l&&o.push(l),l=self._group(t,i)),l.items.push(r)}),null!==l&&o.push(l),o},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(r,i){t.push(e(i))}),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,r){return _negate=!_negate,self.and(e,t,r)},this.orNot=function(e,t,r){return _negate=!_negate,self.or(e,t,r)},this.not=function(e,t,r){return self.andNot(e,t,r)},this.and=function(e,t,r){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,r)},this.or=function(e,t,r){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,r)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,r,i,a){var o=t;void 0===r&&(r=null);var l=r,n=void 0===a.stype?"text":a.stype;if(null!==r)switch(n){case"int":case"integer":l=String(l).replace(_stripNum,""),l=isNaN(Number(l))||""===l?"0":Number(l),o="parseInt("+o+"||0,10)",l=String(parseInt(l,10));break;case"boolean":o="normilizeBoolean("+o+")",l="normilizeBoolean("+String(l)+")";break;case"float":case"number":case"currency":case"numeric":l=String(l).replace(_stripNum,""),l=isNaN(Number(l))||""===l?"0":Number(l),o="parseFloat("+o+"||0)",l=String(l);break;case"date":case"datetime":l=String(jgrid.parseDateToNumber.call(context,a.newfmt||"Y-m-d",l)),o='jQuery.jgrid.parseDateToNumber.call(self,"'+a.srcfmt+'",'+o+")";break;default:o=self._getStr(o),l=self._getStr('"'+self._toStr(l)+'"')}return self._append(o+" "+i+" "+l),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,r){return self._compareValues(self.equals,e,t,"==",r)},this.notEquals=function(e,t,r){return self._compareValues(self.equals,e,t,"!==",r)},this.isNull=function(e,t,r){return self._compareValues(self.equals,e,null,"===",r)},this.greater=function(e,t,r){return self._compareValues(self.greater,e,t,">",r)},this.less=function(e,t,r){return self._compareValues(self.less,e,t,"<",r)},this.greaterOrEquals=function(e,t,r){return self._compareValues(self.greaterOrEquals,e,t,">=",r)},this.lessOrEquals=function(e,t,r){return self._compareValues(self.lessOrEquals,e,t,"<=",r)},this.startsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr(0,"+i+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+i+","+i+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,r,i){return self._hasData()?self._getGroup(_data,e,t,r,i):null},this.orderBy=function(e,t,r,i,a){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==r&&(r="text"),null==i&&(i="Y-m-d"),null==a&&(a=!1),"desc"!==t&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:r,datefmt:i,sfunc:a}),self},this.inSet=function(e,t,r){var i=void 0===t?null:t,a=void 0===r.stype?"text":r.stype;return i=self._getStr('"'+self._toStr(i)+'"'),"text"!==a?self._compareValues(self.equals,e,t,"==",r):(self._append("jQuery.inArray("+self._getStr(e)+","+i+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,r){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",iCol:self.p.iColByName["'+t+'"]>=0 ? self.p.iColByName["'+t+'"] : self.p.iPropByName["'+t+'"],isAddProp:self.p.iColByName["'+t+'"]<0,searchValue:"'+r+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,r){var i,a=this;return a instanceof $&&a.length>0&&(a=a[0]),"string"==typeof r?r:"string"==typeof(i=$(a).triggerHandler(t,r))?i:(null!=i&&"object"==typeof i||(i=r),$.isFunction(e)?e.call(a,i):i)},fullBoolFeedback:function(e,t){var r=this,i=$.makeArray(arguments).slice(2),a=$(r).triggerHandler(t,i);if(a=!1!==a&&"stop"!==a,$.isFunction(e)){var o=e.apply(r,i);!1!==o&&"stop"!==o||(a=!1)}return a},feedback:function(e,t,r,i){var a=this;if(a instanceof $&&a.length>0&&(a=a[0]),null==e||"string"!=typeof i||i.length<2)return null;var o="on"===i.substring(0,2)?"jqGrid"+t+i.charAt(2).toUpperCase()+i.substring(3):"jqGrid"+t+i.charAt(0).toUpperCase()+i.substring(1),l=$.makeArray(arguments).slice(4),n=e[i+r];return l.unshift(o),l.unshift(n),jgrid.fullBoolFeedback.apply(a,l)},builderSortIcons:function(e){var t=this,r=t.p,i=$(t),a=i.jqGrid("getGuiStyles","states.disabled"),o=function(o){var l=r.colModel[e],n=null!=l&&$.isFunction(l.sortIconName)?l.sortIconName:r.sortIconName,s=$.isFunction(n)?n.call(t,{order:o,iCol:e,cm:l}):i.jqGrid("getIconRes","sort."+o);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+o,"horizontal"===r.viewsortcols[1]?"ui-i-"+o:"",a,s,"ui-sort-"+r.direction)};return"<span class='s-ico"+(r.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+o("asc")+"'></span><span class='"+o("desc")+"'></span></span>"},builderFmButon:function(e,t,r,i,a){var o=this.p,l=$(this),n=function(e){return l.jqGrid("getGuiStyles","dialog."+e)};return null==o?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",n("fmButton"),n("right"===a?"rightCorner":"left"===a?"leftCorner":"defaultCorner"),"right"===i?"fm-button-icon-right":"left"===i?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(r?"<span class='fm-button-icon "+(l.jqGrid("getIconRes",r)||r)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,r,i,a,o){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:r,id:i,item:a,iCol:o});if("boolean"!=typeof r&&"number"!=typeof r)return e;if("boolean"!=typeof r||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof r||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var l=String(e).toLowerCase(),n=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];$.inArray(l,["1","true",n[0].toLowerCase()])>=0?e=!0:$.inArray(l,["0","false",n[1].toLowerCase()])>=0&&(e=!1)}return e},parseDataToHtml:function(e,t,r,i,a,o,l){var n,s,d,c,u,g,p,f,h,m=this,v=m.p,b=$(m),w=!1,y=[],C=[],x=!0!==v.altRows||b.jqGrid("isBootstrapGuiStyle")?"":v.altclass,j=!!v.grouping&&!0===v.groupingView.groupCollapse,D=parseInt(v.rowNum,10),_=$.fn.jqGrid,R=!0===v.treeGrid&&v.treeANode>-1?m.rows[v.treeANode].rowIndex+1:m.rows.length,S=m.formatCol;for(R<=1&&(v.rowIndexes={}),("local"===v.datatype&&!v.deselectAfterSort||v.multiPageSelection)&&(w=!0),o&&(D*=o+1),n=0;n<Math.min(e,D);n++){for(u=t[n],g=r[n],p=null!=i?i[n]:g,d=((1===a?0:a)+n)%2==1?x:"",w?v.multiselect?(c=-1!==$.inArray(u,v.selarrrow))&&null===v.selrow&&(v.selrow=u):c=u===v.selrow:c=!1,f=y.length,y.push(""),s=0;s<v.colModel.length;s++)switch(h=v.colModel[s].name){case"rn":y.push(function(e,t,r,i){var a=(parseInt(r,10)-1)*parseInt(i,10)+1+t;return"<td role='gridcell' class='"+_.getGuiStyles.call(b,"rowNum","jqgrid-rownum")+"' "+S(e,t,a,null,t,!0)+">"+a+"</td>"}(s,n,v.page,v.rowNum));break;case"cb":y.push(function(e,t,r,i,a){var o="&nbsp;",l=!0,n={rowid:e,iRow:r,iCol:t,data:a,checked:i};return $.isFunction(v.hasMultiselectCheckBox)&&(l=v.hasMultiselectCheckBox.call(m,n)),l&&(o=$.isFunction(v.checkboxHtml)?v.checkboxHtml.call(m,n):"<input type='checkbox' id='jqg_"+v.id+"_"+e+"' class='cbox' name='jqg_"+v.id+"_"+e+"'"+(i?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+S(t,r,"",null,e,!0)+">"+o+"</td>"}(u,s,n,c,g));break;case"subgrid":y.push(_.addSubGridCell.call(b,s,n+a,u,g));break;default:y.push(function(e,t,r,i,a,o){var l=m.formatter(e,t,r,a,"add",o);return"<td role='gridcell' "+S(r,i,l,a,e,o)+">"+l+"</td>"}(u,g[h],s,n+a,p,g))}v.grouping&&_.groupingPrepare&&!v.groupingView._locgr&&(_.groupingPrepare.call(b,g,n),$.isFunction(v.groupingView.groupCollapse)&&(j=v.groupingView.groupCollapse.call(m,{group:v.groupingView.groups[v.groupingView.groups.length-1],rowid:u,data:g}))),y[f]=m.constructTr(u,j,d,g,p,c),y.push("</tr>"),v.rowIndexes[u]=R,R++,v.grouping&&(C.push(y),y=[]),y.length>v.maxItemsToJoin&&(y=[y.join("")])}return v.grouping&&_.groupingRender&&(l&&(v.groupingView._locgr=!0),y=[_.groupingRender.call(b,C,D)],jgrid.clearArray(C)),y},fillSelectOptions:function(e,t,r,i,a,o){var l,n,s,d,c,u,g,p,f=[],h=!1;if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(n=t.split(i),l=0;l<n.length;l++)(s=n[l].split(r)).length>2&&(s[1]=$.map(s,function(e,t){if(t>0)return e}).join(r)),f.push({value:s[0],innerHtml:s[1],selectValue:$.trim(s[0]),selectText:$.trim(s[1]),selected:!1}),""===s[0]&&(h=!0);else if("object"==typeof t)for(g in t)t.hasOwnProperty(g)&&f.push({value:g,innerHtml:t[g],selectValue:$.trim(g),selectText:$.trim(t[g]),selected:!1}),""===g&&(h=!0);if("string"==typeof o){for(p=a?$.map(o.split(","),function(e){return $.trim(e)}):[$.trim(o)],o=$.trim(o),l=0;l<f.length;l++)c=f[l],a||c.selectValue!==o||(c.selected=!0,u=!0),a&&$.inArray(c.selectValue,p)>-1&&(c.selected=!0,u=!0);if(!u)for(l=0;l<f.length;l++)c=f[l],a||c.selectText!==o||(c.selected=!0),a&&$.inArray(c.selectText,p)>-1&&(c.selected=!0)}for(l=0;l<f.length;l++)c=f[l],(d=document.createElement("option")).value=c.value,d.innerHTML=c.innerHtml,c.selected&&(d.selected=!0),e.appendChild(d);return h}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,r=$.fn.jqGrid;if("string"==typeof e){if(!(t=r[e]))throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var t,i,a=this,o=$(a),l=$.isFunction,n=$.isArray,s=$.extend,d=$.inArray,c=$.trim,u=$.each,g=r.setSelection,p=r.getGridRes,f=l(defaults.fatalError)?defaults.fatalError:alert,h=e.locale||defaults.locale||"en-US",m=null!=locales[h]&&"boolean"==typeof locales[h].isRTL&&locales[h].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",w=function(e){return r.getIconRes.call(a,e)},y=function(e,t){return o.jqGrid("getGuiStyles",e,t)};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&n(e.datastr)&&(i=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||f("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),a.p={iconSet:v};var C=s(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",selectOnContextMenu:!0,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:function(e,t,r){if("abort"!==t&&"abort"!==r){var i=e.getResponseHeader("Content-Type"),a=e.responseText||"",l=function(e){try{var t,r=$.parseJSON(e),i=[];for(t in r)r.hasOwnProperty(t)&&"StackTrace"!==t&&i.push(t+": "+r[t]);e=i.join("<br />")}catch(e){}return e};"text/html"===i?a=function(e){var t,r,i,a=document.createElement("div");for(i=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),a.innerHTML=null!=i&&2===i.length?i[1]:e,r=(t=a.getElementsByTagName("script")).length;r--;)t[r].parentNode.removeChild(t[r]);e=a.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(a):"application/json"===i?a=l(a):"text/plain"===i&&(a=l(a)),500!==e.status&&0!==e.status&&(a=(t||r)+(r&&r!==t?": "+r:"")+" "+e.status+" "+e.statusText+(""!==a?"<hr />":"")+a),o.jqGrid("displayErrorMessage",a||t||r)}},loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,multiPageSelection:!1,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!0,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:m,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:w("grouping.common"),plusicon:w("grouping.plus"),minusicon:w("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:h,multiSort:!1,showSortOrder:!0,sortOrderPosition:"afterSortIcons",multiSortOrder:"lastClickedFirstSorted",maxSortColumns:3,treeIcons:{commonIconClass:w("treeGrid.common"),plusLtr:w("treeGrid.plusLtr"),plusRtl:w("treeGrid.plusRtl"),minus:w("treeGrid.minus"),leaf:w("treeGrid.leaf")}},defaults,{navOptions:s(!0,{commonIconClass:w("nav.common"),editicon:w("nav.edit"),addicon:w("nav.add"),delicon:w("nav.del"),searchicon:w("nav.search"),refreshicon:w("nav.refresh"),viewicon:w("nav.view"),saveicon:w("nav.save"),cancelicon:w("nav.cancel"),buttonicon:w("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:s(!0,{commonIconClass:w("actions.common"),editicon:w("actions.edit"),delicon:w("actions.del"),saveicon:w("actions.save"),cancelicon:w("actions.cancel")},jgrid.actionsNav||{}),formEditing:s(!0,{commonIconClass:w("form.common"),prevIcon:w("form.prev"),nextIcon:w("form.next"),saveicon:[!0,"left",w("form.save")],closeicon:[!0,"left",w("form.undo")]},jgrid.edit||{}),searching:s(!0,{commonIconClass:w("search.common"),findDialogIcon:w("search.search"),resetDialogIcon:w("search.reset"),queryDialogIcon:w("search.query")},jgrid.search||{}),formViewing:s(!0,{commonIconClass:w("form.common"),prevIcon:w("form.prev"),nextIcon:w("form.next"),closeicon:[!0,"left",w("form.cancel")]},jgrid.view||{}),formDeleting:s(!0,{commonIconClass:w("form.common"),delicon:[!0,"left",w("form.del")],cancelicon:[!0,"left",w("form.cancel")]},jgrid.del||{})},e||{}),x=function(e){return p.call(o,e)},j=function(e){var t=jgrid.getRes(C,e);return void 0!==t?t:p.call(o,"defaults."+e)};if(C.recordpos=C.recordpos||("rtl"===C.direction?"left":"right"),C.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==C.autoResizing.widthOfVisiblePartOfSortIcon?C.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===C.iconSet?13:12,C.datatype=void 0!==C.datatype?C.datatype:void 0!==t||null==C.url?"local":null!=C.jsonReader&&"object"==typeof C.jsonReader?"json":"xml",C.jsonReader=C.jsonReader||{},C.url=C.url||"",C.cellsubmit=void 0!==C.cellsubmit?C.cellsubmit:void 0===C.cellurl?"clientArray":"remote",C.gridview=void 0!==C.gridview?C.gridview:null==C.afterInsertRow,void 0!==t&&(C.data=t,e.data=t),void 0!==i&&(C.datastr=i,e.datastr=i),"TABLE"===a.tagName.toUpperCase())if(""===a.id&&o.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)f("Grid can not be used in this ('quirks') mode!");else{o.empty().attr("tabindex","0"),a.p=C,C.id=a.id,C.idSel="#"+jqID(a.id),C.gBoxId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_BOX_DIV),C.gBox=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_BOX_DIV),C.gViewId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),C.gView=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),C.rsId=getGridComponentId.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),C.rs=getGridComponentIdSelector.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),C.cbId=getGridComponentId.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),C.cb=getGridComponentIdSelector.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var D=jgrid.fixScrollOffsetAndhBoxPadding,_=function(e){var t,r={},i=e.length;for(t=0;t<i;t++)r[e[t].name]=t;return r},R=function(){var e,t,r={},i=C.colModel,a=i.length;for(e=0;e<a;e++)((t=i[e]).createColumnIndex||C.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(r[i[e].name]={});return r},S=function(e){var t,r,i={},a=e.length;for(t=0;t<a;t++)i["string"==typeof(r=e[t])?r:r.name]=t;return i},N=function(){var e,t,r={};for(this.p.rowIndexes=r,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(r[e.id]=e.rowIndex)},I=function(e){var t=$(this).data("pageX");t?(t=(t=String(t).split(";"))[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},O=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},q={headers:[],cols:[],footers:[],dragStart:function(e,t,r,i){var a=this,o=$(a.bDiv),l=o.closest(C.gBox).offset(),n=i.offset().left+("rtl"===C.direction?0:a.headers[e].width+(jgrid.cell_width?0:O(C.cellLayout,0))-2);a.resizing={idx:e,startX:n,sOL:n,moved:!1,delta:n-t.pageX},a.curGbox=$(C.rs),a.curGbox.prependTo("body"),a.curGbox.css({display:"block",left:n,top:r[1]+l.top+1,height:r[2]}),a.curGbox.css("height",r[2]-(a.curGbox.outerHeight()-a.curGbox.height())+"px"),a.curGbox.data("idx",e),a.curGbox.data("delta",n-t.pageX),I.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,o)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",function(e){if(q.resizing)return q.dragMove(e),!1}).on("mouseup.jqGrid"+C.id,function(){if(q.resizing)return q.dragEnd(),!1})},dragMove:function(e){var t=this,r=t.resizing;if(r){var i,a,o=e.pageX+r.delta-r.startX,l=t.headers,n=l[r.idx],s="ltr"===C.direction?n.width+o:n.width-o,d=((C.colModel[r.idx]||{}).autoResizing||{}).minColWidth||C.minResizingWidth;r.moved=!0,s>d&&(null==t.curGbox&&(t.curGbox=$(C.rs)),t.curGbox.css({left:r.sOL+o}),!0===C.forceFit?(i=l[r.idx+C.nv],(a="ltr"===C.direction?i.width-o:i.width+o)>C.autoResizing.minColWidth&&(n.newWidth=s,i.newWidth=a)):(t.newWidth="ltr"===C.direction?C.tblwidth+o:C.tblwidth-o,n.newWidth=s))}},resizeColumn:function(e,t,i){var a,o=this,l=o.headers,n=o.footers,s=l[e],d=s.newWidth||s.width,c=getGridComponent(COMPONENT_NAMES.BODY_TABLE,o.bDiv),u=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,o.hDiv).children("thead").children("tr").first()[0].cells;d=parseInt(d,10),C.colModel[e].width=d,s.width=d,u[e].style.width=d+"px",o.cols[e].style.width=d+"px",o.fbRows&&($(o.fbRows[0].cells[e]).css("width",d),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,o.fhDiv)[0].rows[0].cells[e]).css("width",d),C.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,o.fsDiv)[0].rows[0].cells[e]).css("width",d)),n.length>0&&(n[e].style.width=d+"px"),!0!==i&&D.call(c[0]),!0===C.forceFit?(d=(a=l[e+C.nv]).newWidth||a.width,a.width=d,u[e+C.nv].style.width=d+"px",o.cols[e+C.nv].style.width=d+"px",n.length>0&&(n[e+C.nv].style.width=d+"px"),C.colModel[e+C.nv].width=d):(C.tblwidth=o.newWidth||C.tblwidth,!0!==i&&(o.hDiv.scrollLeft=o.bDiv.scrollLeft,C.footerrow&&(o.sDiv.scrollLeft=o.bDiv.scrollLeft))),C.autowidth||void 0!==C.widthOrg&&"auto"!==C.widthOrg&&"100%"!==C.widthOrg||!0===i||r.setGridWidth.call(c,o.newWidth+C.scrollOffset,!1),t||feedback.call(c[0],"resizeStop",d,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&!0===e.resizing.moved&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(C.rs).removeData("pageX"),e.resizing=!1,setTimeout(function(){$(C.rs).css("display","none").prependTo(C.gBox)},C.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+C.id)},populateVisible:function(){var e=this,t=$(e),r=e.grid,i=r.bDiv,a=$(i);r.timer&&clearTimeout(r.timer),r.timer=null;var o=a.height();if(o){var l,n;if(e.rows.length)try{l=e.rows[1],n=l?$(l).outerHeight()||r.prevRowHeight:r.prevRowHeight}catch(e){n=r.prevRowHeight}if(n){r.prevRowHeight=n;var s=C.rowNum;r.scrollTop=i.scrollTop;var d,c,u,g=r.scrollTop,p=Math.round(t.position().top)-g,f=p+t.height(),h=n*s;if(f<o&&p<=0&&(void 0===C.lastpage||(parseInt((f+g+h-1)/h,10)||0)<=C.lastpage)&&(c=parseInt((o-f+h-1)/h,10)||1,f>=0||c<2||!0===C.scroll?(d=(Math.round((f+g)/h)||0)+1,p=-1):p=1),p>0&&(d=(parseInt(g/h,10)||0)+1,c=(parseInt((g+o)/h,10)||0)+2-d,u=!0),c){if(C.lastpage&&(d>C.lastpage||1===C.lastpage||d===C.page&&d===C.lastpage))return;r.hDiv.loading?r.timer=setTimeout(function(){r.populateVisible.call(e)},C.scrollTimeout):(C.page=d,u&&(r.selectionPreserver.call(e),r.emptyRows.call(e,!1,!1)),r.populate.call(e,c))}}}},scrollGrid:function(){if(C.scroll){var e=this.scrollTop;void 0===q.scrollTop&&(q.scrollTop=0),e!==q.scrollTop&&(q.scrollTop=e,q.timer&&clearTimeout(q.timer),q.timer=setTimeout(function(){q.populateVisible.call(a)},C.scrollTimeout))}return q.hDiv.scrollLeft=this.scrollLeft,C.footerrow&&(q.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=this,t=$(e),r=C.selrow,i=C.selarrrow?$.makeArray(C.selarrrow):null,a=e.grid.bDiv,o=a.scrollLeft,l=function(){var e;if(C.selrow=null,!C.multiPageSelection){if(clearArray(C.selarrrow),C.multiselect&&i&&i.length>0)for(e=0;e<i.length;e++)i[e]!==r&&g.call(t,i[e],!1,null);r&&g.call(t,r,!1,null)}a.scrollLeft=o,t.off(".selectionPreserver",l)};t.on("jqGridGridComplete.selectionPreserver",l)}};a.grid=q,feedback.call(a,"beforeInitGrid"),C.iColByName=_(C.colModel),C.iPropByName=S(C.additionalProperties),jgrid.msie=jgrid.msiever()>0;var E,A=$("<div class='"+y("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!C.multiselect+"'></div>"),T=jgrid.msie;C.direction=c(C.direction.toLowerCase()),-1===d(C.direction,["ltr","rtl"])&&(C.direction="ltr"),E=C.direction,$(A).insertBefore(a),o.removeClass("scroll").appendTo(A);var G=$("<div class='"+y("gBox","ui-jqgrid")+"'></div>");$(G).attr({id:C.gBoxId,dir:E}).insertBefore(A),$(A).attr("id",C.gViewId).appendTo(G),$("<div class='"+y("overlay","jqgrid-overlay")+"' id='lui_"+C.id+"'></div>").insertBefore(A),$("<div class='"+y("loading","loading")+"' id='load_"+C.id+"'>"+j("loadtext")+"</div>").insertBefore(A),o.attr({role:"presentation","aria-labelledby":"gbox_"+a.id});var k,B=["shiftKey","altKey","ctrlKey"],M=function(e){return stripPref(C.idPrefix,e)},F=function(e,t,r,i,o,n){var s,d,c,u,g,p,f,h=C.colModel[e],m=r,v=h.classes,b=h.align?"text-align:"+h.align+";":"",w=function(e){return"string"==typeof e?e.replace(/\'/g,"&#39;"):e},y=" aria-describedby='"+C.id+"_"+h.name+"'";if(!0===h.hidden&&(b+="display:none;"),0===t)b+="width: "+q.headers[e].width+"px;";else if((l(h.cellattr)||"string"==typeof h.cellattr&&null!=jgrid.cellattr&&l(jgrid.cellattr[h.cellattr]))&&(s=l(h.cellattr)?h.cellattr:jgrid.cellattr[h.cellattr],C.useUnformattedDataForCellAttr&&null!=n?m=n[h.name]:h.autoResizable&&(d="<span class='"+C.autoResizing.wrapperClassName+"'>",m=r.substring(d.length,r.length-"</span>".length)),"string"==typeof(u=s.call(a,o,m,i,h,n))))for(u=u.replace(/\n/g,"&#xA;");;){if(null===(g=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(u))||g.length<5)return!f&&h.title&&(f=m),y+" style='"+w(b)+"'"+(v?" class='"+w(v)+"'":"")+(f?" title='"+w(f)+"'":"");switch(p=g[3],u=g[4],g[1].toLowerCase()){case"class":v?v+=" "+p:v=p;break;case"title":f=p;break;case"style":b+=p;break;default:y+=" "+g[1]+"="+g[2]+p+g[2]}}return c=""!==b?"style='"+b+"'":"",c+=(void 0!==v?" class='"+v+"'":"")+(h.title&&m?" title='"+stripHtml(r).replace(/\'/g,"&apos;")+"'":""),c+=y},P=function(e){return null==e||""===e?"&#160;":C.autoencode?htmlEncode(e):String(e)},L=function(e){var t=C.treeReader,r=t.loaded,i=t.leaf_field,a=t.expanded_field,o=function(e){return!0===e||"true"===e||"1"===e};if("nested"===C.treeGridModel&&!e[i]){var l=parseInt(e[t.left_field],10),n=parseInt(e[t.right_field],10);e[i]=n===l+1}void 0!==e[r]&&(e[r]=o(e[r])),e[i]=o(e[i]),e[a]=o(e[a])},z=function(e,t){var r,i;for(r in C.indexByColumnData)C.indexByColumnData.hasOwnProperty(r)&&(i=e[r],e.hasOwnProperty(r)&&void 0!==i&&""!==i&&(C.ignoreCase&&(i=String(i).toLowerCase()),void 0===C.indexByColumnData[r][i]&&(C.indexByColumnData[r][i]={}),C.indexByColumnData[r][i][t]=e[r],void 0===C.dataIndexById[t]&&(C.dataIndexById[t]={}),void 0===C.dataIndexById[t][r]&&(C.dataIndexById[t][r]={}),C.dataIndexById[t][r][i]=C.indexByColumnData[r][i]))},H=function(){var e,t,r,i,o,d,c,u,g,p,f,h,m=C.data,v=m.length,b=C.localReader,w=C.additionalProperties,y=b.cell,x=C.arrayReaderInfos;if("local"===C.datatype&&!0===b.repeatitems)for(i=!1===C.keyName?l(b.id)?b.id.call(a,m):b.id:C.keyName,isNaN(i)?l(i)||null!=C.arrayReaderInfos[i]&&(o=C.arrayReaderInfos[i].order):o=Number(i),e=0;e<v;e++){t=m[e],r=y?getAccessor(t,y)||t:t,p=n(r),c={};for(g in x)x.hasOwnProperty(g)&&(h=x[g],d=getAccessor(r,p?h.order:h.name),1===h.type&&null!=(f=w[h.index])&&l(f.convert)&&(d=f.convert(d,r)),void 0!==d&&(c[g]=d));void 0!==c[i]?u=void 0!==c[i]?c[i]:randId():(void 0===(u=getAccessor(t,n(t)?o:i))&&(u=getAccessor(r,n(r)?o:i)),void 0===u&&(u=randId())),u=String(u),c[b.id]=u,C.treeGrid&&L(c),s(m[e],c)}else if(C.treeGrid)for(e=0;e<v;e++)L(m[e])},W=function(){var e,t,r,i,a=C.data.length;for(e=!1===C.keyName||C.loadonce&&C.dataTypeOrg?C.localReader.id:C.keyName,C._index={},C.dataIndexById={},C.indexByColumnData=R(),t=0;t<a;t++)i=C.data[t],void 0===(r=getAccessor(i,e))&&(r=String(randId()),void 0===i[e]&&(i[e]=r)),C._index[r]=t,z.call(this,i,r)},V=function(){var e,t,r=$.fn.fmatter;for(e=0;e<C.colModel.length;e++)"string"==typeof(t=C.colModel[e].formatter)&&null!=r&&l(r[t])&&l(r[t].pageFinalization)&&r[t].pageFinalization.call(this,e)},U=function(e,t){var r,i,o,n=C.colModel,s=n.length;for(r=0;r<s;r++)(i=n[r]).cellBuilder=null,e||(o={colModel:i,gid:C.id,pos:r},void 0===i.formatter?i.cellBuilder=C.autoencode?function(e){return null==e||""===e?"&#160;":htmlEncode(e)}:function(e){return null==e||""===e?"&#160;":String(e)}:"string"==typeof i.formatter&&null!=$.fn.fmatter&&l($.fn.fmatter.getCellBuilder)?i.cellBuilder=$.fn.fmatter.getCellBuilder.call(a,i.formatter,o,t||"add"):l(i.getCellBuilder)&&(i.cellBuilder=i.getCellBuilder.call(a,o,t||"add")))},X=function(e,t,i,a){var o=this,s=$(o),d=new Date,c=C.datatype,u="local"!==c&&C.loadonce||"xmlstring"===c||"jsonstring"===c,g=("xmlstring"===c||"xml"===c)&&$.isXMLDoc(e),p=C.localReader,f=getAccessor;if(e&&("xml"!==c||g)){switch(-1!==C.treeANode||C.scroll?t=t>1?t:1:(q.emptyRows.call(o,!1,!0),t=1),u&&(clearArray(C.data),clearArray(C.lastSelectedData),C._index={},C.grouping&&null!=C.groupingView&&(C.groupingView.groups=[],C.groupingView._locgr=!1),C.localReader.id="_id_"),C.reccount=0,c){case"xml":case"xmlstring":p=C.xmlReader,f=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":p=C.jsonReader}var h,m,v,b,w,y,x,j,D,_,R,S,I,E={},A=C.colModel,T=A.length,G=C.arrayReaderInfos,k={},B=function(e){return function(t){var r=null!=t&&l(t.getAttribute)?t.getAttribute(e):null;return null!==r?r:void 0}},M=function(e){return function(){var t,r=k[e];if(null!=r)return(t=r.childNodes).length>0?t[0].nodeValue:void 0}};C.page=O(f(e,p.page),C.page),C.lastpage=O(f(e,p.total),1),C.records=O(f(e,p.records)),l(p.userdata)?C.userData=p.userdata.call(o,e)||{}:g?f(e,p.userdata,!0).each(function(){C.userData[this.getAttribute("name")]=$(this).text()}):C.userData=f(e,p.userdata)||{},U();var F,P,H,W,X={},Y=C.additionalProperties,Z=function(e,t){g&&"string"==typeof t&&(/^\w+$/.test(t)?X[e]=M(t):/^\[\w+\]$/.test(t)&&(X[e]=B(t.substring(1,t.length-1))))},Q=function(e){var t=e.name,r=g?e.xmlmap||t:"local"===c&&!C.dataTypeOrg||"jsonstring"===c||"json"===c||"jsonp"===c?e.jsonmap||t:t;!1!==C.keyName&&!0===e.key&&(C.keyName=t),("string"==typeof r||l(r))&&(X[t]=r),l(r)||Z(t,r)};for(h=0;h<T;h++)Q(A[h]);for(T=Y.length,h=0;h<T;h++)"object"==typeof(H=Y[h])&&null!=H?Q(H):Z(H,H);if(w=!1===C.keyName?l(p.id)?p.id.call(o,e):p.id:C.keyName,isNaN(w)?l(w)||(G[w]&&(y=G[w].order),g&&("string"==typeof w&&/^\[\w+\]$/.test(w)?w=B(w.substring(1,w.length-1)):"string"==typeof w&&/^\w+$/.test(w)&&(w=M(w)))):y=Number(w),b=f(e,p.root,!0),p.row)if(1===b.length&&"string"==typeof p.row&&/^\w+$/.test(p.row)){for(W=[],R=(_=b[0].childNodes).length,D=0;D<R;D++)1===(S=_[D]).nodeType&&S.nodeName===p.row&&W.push(S);b=W}else b=f(b,p.row,!0);null==b&&n(e)&&(b=e),b||(b=[]),(v=b.length)>0&&C.page<=0&&(C.page=1);var K=parseInt(C.rowNum,10);a&&(K*=a+1);var J,ee,te=[],re=[];for(W=[],h=0;h<v;h++){if(ee=b[h],m=p.repeatitems&&p.cell?f(ee,p.cell,!0)||ee:ee,F=p.repeatitems&&(g||n(m)),E={},k={},g&&!F&&null!=m)for(R=(_=m.childNodes).length,D=0;D<R;D++)1===(S=_[D]).nodeType&&(k[S.nodeName]=S);for(j in G)G.hasOwnProperty(j)&&(I=G[j],F?(P=m[I.order],g&&null!=P&&(P=P.textContent||P.text)):P=null!=X[j]&&"string"!=typeof X[j]?X[j].call(o,m,{cmName:j,iItem:h}):f(m,"string"==typeof X[j]?X[j]:I.name),1===I.type&&null!=(H=Y[I.index])&&l(H.convert)&&(P=H.convert(P,m)),void 0!==P&&(E[j]=P));if(void 0!==E[w]?J=void 0!==E[w]?E[w]:randId():(void 0===(J=f(ee,n(ee)?y:w))&&(J=f(m,n(m)?y:w)),void 0===J&&(J=randId())),void 0===E[w]&&(E[w]=J),J=String(J),x=C.idPrefix+J,C.treeGrid&&L(E),h<K)re.push(x),te.push(m),W.push(E);else if(!u)break;(u||!0===C.treeGrid)&&(E._id_=J,C.data.push(E),z(E,J),C._index[E._id_]=C.data.length-1)}if(u&&!0!==C.treeGrid){if(C.forceClientSorting)return;C.lastSelectedData=C.data.slice()}var ie=jgrid.parseDataToHtml.call(o,v,re,W,te,t,a,u);U(!0);var ae=C.treeANode>-1?C.treeANode:0,oe=$(o.tBodies[0]);if(!0===C.treeGrid&&ae>0?$(o.rows[ae]).after(ie.join("")):C.scroll?oe.append(ie.join("")):null==o.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?(oe.html(oe.html()+ie.join("")),o.grid.cols=o.rows[0].cells):(o.firstElementChild.innerHTML+=ie.join(""),o.grid.cols=o.rows[0].cells),C.grouping&&N.call(o),!0===C.subGrid)try{r.addSubGrid.call(s,C.iColByName.subgrid)}catch(e){}if(!1===C.gridview||l(C.afterInsertRow))for(h=0;h<Math.min(v,K);h++)feedback.call(o,"afterInsertRow",re[h],W[h],te[h]);if(C.totaltime=new Date-d,h>0&&0===C.records&&(C.records=v),clearArray(ie),!0===C.treeGrid)try{r.setTreeNode.call(s,ae+1,h+ae+1)}catch(e){}C.reccount=Math.min(v,K),C.treeANode=-1,C.userDataOnFooter&&r.footerData.call(s,"set",C.userData,!0),u&&(C.records=v,C.lastpage=Math.ceil(v/K)),i||o.updatepager(!1,!0),V.call(o)}},Y=function(){function e(t){var r,i,a,o,n,d,c,u=0;if(null!=t.groups){for((i=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),r=0;r<t.groups.length;r++){u>0&&i&&y.or();try{e(t.groups[r])}catch(e){f(e)}u++}i&&y.orEnd()}if(null!=t.rules)try{for((a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),r=0;r<t.rules.length;r++)n=t.rules[r],o=t.groupOp.toString().toUpperCase(),w[n.op]&&n.field?(u>0&&o&&"OR"===o&&(y=y.or()),null!=(c=s[n.field])&&(d=c.reader,y=w[n.op](y,o)(l(d)?'jQuery.jgrid.getAccessor(this,jQuery("'+C.idSel+'")[0].p.colModel['+c.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+d+"')",n.data,s[n.field]))):null!=C.customSortOperations&&null!=C.customSortOperations[n.op]&&l(C.customSortOperations[n.op].filter)&&(y=y.custom(n.op,n.field,n.data)),u++;a&&y.orEnd()}catch(e){f(e)}}var t=$(this),i=C.multiSort?[]:"",a={},o=!1,s={},d=[],c=[],g=x("formatter.date.srcformat"),p=x("formatter.date.newformat");if(!n(C.data))return{};C.multiSort&&re(i,a);var h,m,v=!!C.grouping&&C.groupingView,b=function(e,t,r){var a,l,n=e.index||e.name,u=e.sorttype||"text";if(s[e.name]={reader:C.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:t,stype:u,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===r},"date"!==u&&"datetime"!==u||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(a=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:g,l=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:p):a=l=e.datefmt||"Y-m-d",s[e.name].srcfmt=a,s[e.name].newfmt=l),C.grouping)for(m=0,h=v.groupField.length;m<h;m++)e.name===v.groupField[m]&&(d[m]=s[n],c[m]=n);C.multiSort||o||e.index!==C.sortname&&e.name!==C.sortname||(i=e.name,o=!0)};if(u(C.colModel,function(e){b(this,e)}),u(C.additionalProperties,function(e){b("string"==typeof this?{name:this}:this,e,!0)}),C.treeGrid)return r.SortTree.call(t,i,C.sortorder,null!=s[i]&&s[i].stype?s[i].stype:"text",null!=s[i]&&s[i].srcfmt?s[i].srcfmt:""),!1;var w={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},y=jgrid.from.call(this,C.data);if(C.ignoreCase&&(y=y.ignoreCase()),!0===C.search){var j=C.postData[(C.searching||{}).sFilter||C.prmNames.filters];if(j)"string"==typeof j&&(j=$.parseJSON(j)),e(j);else try{var D=s[C.postData.searchField];y=w[C.postData.searchOper](y)(l(D.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+C.idSel+'")[0].p.colModel['+D.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+D.reader+"')",C.postData.searchString,s[C.postData.searchField])}catch(e){}}if(C.grouping)for(m=0;m<h&&m<c.length&&m<d.length;m++)y.orderBy(c[m],v.groupOrder[m],d[m].stype,d[m].srcfmt);C.multiSort?u(i,function(){y.orderBy(this,a[this],s[this].stype,s[this].srcfmt,s[this].sfunc)}):i&&C.sortorder&&o&&y.orderBy(C.sortname,"DESC"===C.sortorder.toUpperCase()?"d":"a",s[i].stype,s[i].srcfmt,s[i].sfunc),C.lastSelectedData=y.select();var _=parseInt(C.rowNum,10),R=C.lastSelectedData.length,S=parseInt(C.page,10),N=Math.ceil(R/_),I={};if(C.grouping&&C.groupingView._locgr){C.groupingView.groups=[];var O,q,E;if(C.footerrow&&C.userDataOnFooter){for(q in C.userData)C.userData.hasOwnProperty(q)&&(C.userData[q]=0);E=!0}for(O=0;O<R;O++){if(E)for(q in C.userData)C.userData.hasOwnProperty(q)&&(C.userData[q]+=parseFloat(C.lastSelectedData[O][q]||0));r.groupingPrepare.call(t,C.lastSelectedData[O],O,_)}}y=null,s=null;var A=C.localReader;return I[A.total]=N,I[A.page]=S,I[A.records]=R,I[A.root]=C.lastSelectedData.slice((S-1)*_,S*_),I[A.userdata]=C.userData,I},Z=function(e){var t,r=this,i=e.outerWidth();return i<=0&&(t=$(r).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+y("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),i=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),i>0&&e.parent().width(i),i},Q=function(){var e=this;e.grid.hDiv.loading=!0,C.hiddengrid||r.progressBar.call($(e),{method:"show",loadtype:C.loadui,htmlcontent:j("loadtext")})},K=function(){var e=this;e.grid.hDiv.loading=!1,r.progressBar.call($(e),{method:"hide",loadtype:C.loadui})},J=function(e){var t=this,i=$(t),o=t.grid;if(!o.hDiv.loading){var n,d,c=C.scroll&&!1===e,u={},g=C.prmNames;C.page<=0&&(C.page=Math.min(1,C.lastpage)),null!==g.search&&(u[g.search]=C.search),null!==g.nd&&(u[g.nd]=(new Date).getTime()),(isNaN(parseInt(C.rowNum,10))||parseInt(C.rowNum,10)<=0)&&(C.rowNum=C.maxRowNum),null!==g.rows&&(u[g.rows]=C.rowNum),null!==g.page&&(u[g.page]=C.page),null!==g.sort&&(u[g.sort]=C.sortname),null!==g.order&&(u[g.order]=C.sortorder),null!==C.rowTotal&&null!==g.totalrows&&(u[g.totalrows]=C.rowTotal);var p=l(C.loadComplete),f=p?C.loadComplete:null,h=0;if((e=e||1)>1?null!==g.npage?(u[g.npage]=e,h=e-1,e=1):f=function(r){C.page++,o.hDiv.loading=!1,p&&C.loadComplete.call(t,r),J.call(t,e-1)}:null!==g.npage&&delete C.postData[g.npage],C.grouping&&r.groupingSetup){r.groupingSetup.call(i);var m,v,b,w,y=C.groupingView,x="";for(m=0;m<y.groupField.length;m++){for(v=y.groupField[m],b=0;b<C.colModel.length;b++)(w=C.colModel[b]).name===v&&w.index&&(v=w.index);x+=v+" "+y.groupOrder[m]+", "}u[g.sort]=x+u[g.sort]}s(C.postData,u);var j=C.scroll?t.rows.length-1:1,_=function(){D.call(t),C.autowidth||void 0!==C.widthOrg&&"auto"!==C.widthOrg&&"100%"!==C.widthOrg||r.setGridWidth.call(i,C.tblwidth+C.scrollOffset,!1)},R=function(){var e;if(C.autoresizeOnLoad)r.autoResizeAllColumns.call(i),clearArray(C.columnsToReResizing),C.autowidth&&r.setGridWidth.call(i,i.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<C.columnsToReResizing.length;e++)r.autoResizeColumn.call(i,C.columnsToReResizing[e]);clearArray(C.columnsToReResizing)}},S=function(){feedback.call(t,"loadComplete",d),R(),i.triggerHandler("jqGridAfterLoadComplete",[d]),K.call(t),C.datatype="local",C.datastr=null,_()},N=function(r){i.triggerHandler("jqGridLoadComplete",[r]),f&&f.call(t,r),R(),i.triggerHandler("jqGridAfterLoadComplete",[r]),c&&o.populateVisible.call(t),1===e&&K.call(t),_()},I=function(){var r=Y.call(t);X.call(t,r,j,e>1,h),N(r)};if(!feedback.call(t,"beforeRequest"))return;if(l(C.datatype))return void C.datatype.call(t,C.postData,"load_"+C.id,j,e,h);switch(n=C.datatype.toLowerCase(),$(q.eDiv).hide(),n){case"json":case"jsonp":case"xml":case"script":$.ajax(s({url:C.url,type:C.mtype,dataType:n,data:jgrid.serializeFeedback.call(a,C.serializeGridData,"jqGridSerializeGridData",C.postData),success:function(r,i,a){C.jqXhr=null,$(q.eDiv).hide(),l(C.beforeProcessing)&&!1===C.beforeProcessing.call(t,r,i,a)?K.call(t):(X.call(t,r,j,e>1,h),N(r),(C.loadonce||C.treeGrid)&&(C.dataTypeOrg=C.datatype,C.datatype="local",C.forceClientSorting&&I()))},error:function(r,i,a){C.jqXhr=null,l(C.loadError)&&C.loadError.call(t,r,i,a),1===e&&K.call(t)},beforeSend:function(e,r){var i=!0;if(l(C.loadBeforeSend)&&(i=C.loadBeforeSend.call(t,e,r)),void 0===i&&(i=!0),!1===i)return!1;C.jqXhr=e,Q.call(t)}},jgrid.ajaxOptions,C.ajaxGridOptions));break;case"xmlstring":Q.call(t),d="string"==typeof C.datastr?$.parseXML(C.datastr):C.datastr,X.call(t,d),S(),C.forceClientSorting&&I();break;case"jsonstring":Q.call(t),d=C.datastr&&"string"==typeof C.datastr?$.parseJSON(C.datastr):C.datastr,X.call(t,d),S(),C.forceClientSorting&&I();break;case"local":case"clientside":Q.call(t),C.datatype="local",I()}}},ee=function(e){var t=this.grid;$(C.cb,t.hDiv).prop("checked",e),C.frozenColumns&&$(C.cb,t.fhDiv).prop("checked",e)},te=function(e,t){var r,i,o,l,n,s,d=y("states.hover"),c=y("states.disabled"),u="<td class='ui-pg-button "+c+"'><span class='ui-separator'></span></td>",g="",p="<table style='table-layout:auto;white-space: pre;"+("left"===C.pagerpos?"margin-right:auto;":"right"===C.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",f="",h=function(e,t,r){return!!feedback.call(a,"onPaging",e,{newPage:t,currentPage:O(C.page,1),lastPage:O(C.lastpage,1),currentRowNum:O(C.rowNum,10),newRowNum:r})&&(C.selrow=null,C.multiselect&&(C.multiPageSelection||clearArray(C.selarrrow),ee.call(a,!1)),clearArray(C.savedRow),C.editingInfo={},!0)};if(t+="_"+e,r="pg_"+e,i=e+"_left",o=e+"_center",l=e+"_right",$("#"+jqID(e)).append("<div id='"+r+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+i+"' class='ui-jqgrid-pg-left'"+(void 0!==C.pagerLeftWidth?" style='width:"+C.pagerLeftWidth+"px;'":"")+"></td><td id='"+o+"' class='ui-jqgrid-pg-center'"+(void 0!==C.pagerCenterWidth?" style='width:"+C.pagerCenterWidth+"px;'":"")+"></td><td id='"+l+"' class='ui-jqgrid-pg-right'"+(void 0!==C.pagerRightWidth?" style='width:"+C.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),r="#"+jqID(r),C.rowList.length>0){f="<td dir='"+E+"'>";var m=j("pgrecs");f+="<select class='"+y("pager.pagerSelect","ui-pg-selbox")+"' "+(m?"title='"+m+"'":"")+">";var v;for(s=0;s<C.rowList.length;s++)1===(v=C.rowList[s].toString().split(":")).length&&(v[1]=v[0]),f+="<option value='"+v[0]+"'"+(O(C.rowNum,0)===O(v[0],0)?" selected='selected'":"")+">"+v[1]+"</option>";f+="</select></td>"}if("rtl"===E&&(p+=f),!0===C.pginput&&(g="<td dir='"+E+"'>"+jgrid.format(j("pgtext")||"","<input aria-label='Page No.' class='"+y("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===C.pgbuttons){var b=["first","prev","next","last"],x=b.slice(),D=y("pager.pagerButton","ui-pg-button");for("rtl"===E&&b.reverse(),s=0;s<b.length;s++)p+=function(e,r){var i=j("pg"+e);return"<td role='button' tabindex='0' id='"+e+t+"' class='"+D+"' "+(i?"title='"+i+"'":"")+"><span class='"+w("pager."+r)+"'></span></td>"}(b[s],x[s]),1===s&&(p+=""!==g?u+g+u:"")}else""!==g&&(p+=g);"ltr"===E&&(p+=f),p+="</tr></tbody></table>",!0===C.viewrecords&&$("td"+e+"_"+C.recordpos,r).append("<span dir='"+E+"' style='text-align:"+C.recordpos+"' class='ui-paging-info'></span>");var _=$("td"+e+"_"+C.pagerpos,r);_.append(p),n=Z.call(this,_.children(".ui-pg-table")),C._nvtd=[],C._nvtd[0]=n?Math.floor((C.width-n)/2):Math.floor(C.width/3),C._nvtd[1]=0,p=null,$(".ui-pg-selbox",r).on("change",function(){var e=O(this.value,10),t=Math.round(C.rowNum*(C.page-1)/e-.5)+1;return!!h("records",t,e)&&(C.page=t,C.rowNum=e,C.pager&&$(".ui-pg-selbox",C.pager).val(e),C.toppager&&$(".ui-pg-selbox",C.toppager).val(e),J.call(a),!1)}),!0===C.pgbuttons&&($(".ui-pg-button",r).hover(function(){hasOneFromClasses(this,c)?this.style.cursor="default":($(this).addClass(d),this.style.cursor="pointer")},function(){hasOneFromClasses(this,c)||($(this).removeClass(d),this.style.cursor="default")}),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click(function(){if(hasOneFromClasses(this,c))return!1;var e=O(C.page,1),r=e,i=this.id,o=O(C.lastpage,1),l=!1,n=!0,s=!0,d=!0,u=!0;return 0===o||1===o?(e<=1&&(n=!1,s=!1),d=!1,u=!1):o>1&&e>=1?1===e?(n=!1,s=!1):e===o&&(d=!1,u=!1):o>1&&0===e&&(d=!1,u=!1,e=o-1),this.id==="first"+t&&n&&(i="first",r=1,l=!0),this.id==="prev"+t&&s&&(i="prev",r=e-1,l=!0),this.id==="next"+t&&d&&(i="next",r=e+1,l=!0),this.id==="last"+t&&u&&(i="last",r=o,l=!0),!!h(i,r,O(C.rowNum,10))&&(C.page=r,l&&J.call(a),!1)})),!0===C.pginput&&$("input.ui-pg-input",r).on("keypress.jqGrid",function(e){var t=e.charCode||e.keyCode||0,r=O($(this).val(),1);return 13===t?!!h("user",r,O(C.rowNum,10))&&($(this).val(r),C.page=$(this).val()>0?$(this).val():C.page,J.call(a),!1):this}),_.children(".ui-pg-table").on("keydown.jqGrid",function(e){var t;13===e.which&&(t=_.find(":focus")).length>0&&t.trigger("click")})},re=function(e,t,r){if(u((C.sortname+" "+C.sortorder).split(","),function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])}),null!=r){var i=$.inArray(r.index||r.name,e);""!==r.lso&&i<0?e.push(r.index||r.name):""===r.lso&&i>=0&&e.splice(i,1)}u(C.colModel,function(){var r,i=this.index||this.name;this.lso&&(r=this.lso.split("-"),$.inArray(i,e)<0&&e.push(i),t[i]=r[r.length-1])})},ie=function(e,t){var r,i="",o=C.colModel[e],n=y("states.disabled"),s=C.frozenColumns?$(a.grid.headers[e].el).add($(t)):$(a.grid.headers[e].el),c=s.find("span.s-ico"),g=c.children("span.ui-icon-asc"),p=c.children("span.ui-icon-desc"),f=g,h=p,m=[],v={};if(s.find("span.ui-grid-ico-sort").addClass(n),s.attr("aria-selected","false"),o.lso?(c.show(),"desc"===(r=(r=o.lso.split("-"))[r.length-1])&&(f=p,h=g),f.removeClass(n).css("display",""),C.showOneSortIcon&&h.hide(),s.attr("aria-selected","true")):C.viewsortcols[0]||c.hide(),re(m,v,o),"string"==typeof C.sortname&&""!==C.sortname&&C.sortname.split(",").length<m.length){var b=function(e){u(C.colModel,function(){var t,r="#jqgh_"+jgrid.jqID(C.id+"_"+this.name),i=$(r);if(this.lso&&(this.index||this.name)===e){if("function"==typeof m.indexOf)t=m.indexOf(e);else{for(t=0;t<m.length&&m[t]!==e;t++);t===m.length&&(t=-1)}t>=0&&(m.splice(t,1),this.lso="")}C.frozenColumns&&(i=i.add($(q.fhDiv).find(r))),i.children(".s-ico")[this.lso?"show":"hide"]()})};if("lastClickedFirstSorted"===C.multiSortOrder&&m.length>1)for(m.unshift(m[m.length-1]),m.pop();m.length>C.maxSortColumns;)b(m[m.length-1]);else l(C.multiSortOrder)&&(m=C.multiSortOrder.call(a,{sortNames:m,cm:o,sortDirs:v,removeSorting:b})||m)}u(m,function(){i.length>0&&(i+=", "),i+=this+" "+v[this],C.sortorder=v[this]}),C.sortname=i.substring(0,i.length-C.sortorder.length-1),C.showSortOrder&&u(C.colModel,function(){if(this.sortable){var e=d(this.name,m),t="#jqgh_"+jgrid.jqID(C.id+"_"+this.name),r=$(t);C.frozenColumns&&(r=r.add($(q.fhDiv).find(t))),r.children(".ui-jqgrid-sort-order").html(e<0?"&nbsp;":l(C.formatSortOrder)?C.formatSortOrder.call(a,{cm:this,sortIndex:e}):e+1)}})},ae=function(e,t,i,a,o,l){var n=this,s=n.grid,d=C.colModel[t],c=y("states.disabled");if(null!=d&&d.sortable&&!(C.savedRow.length>0)){if(C.lastsort===t&&""!==C.sortname?"asc"===C.sortorder?C.sortorder="desc":"desc"===C.sortorder?C.sortorder="asc":C.sortorder=d.firstsortorder||"asc":C.sortorder=d.firstsortorder||"asc",d.lso?"asc"===d.lso?d.lso+="-desc":"desc"===d.lso?d.lso+="-asc":"asc-desc"!==d.lso&&"desc-asc"!==d.lso||!C.threeStateSort&&!C.multiSort||(d.lso=""):d.lso=d.firstsortorder||"asc",i||(C.page=1),C.multiSort)ie(t,o);else{if(a){if(C.lastsort===t&&C.sortorder===a&&!i)return;C.sortorder=a}var u=s.headers,g=s.fhDiv,p=u[C.lastsort]?$(u[C.lastsort].el):$(),f=$(C.frozenColumns?o:u[t].el),h=f.find("span.s-ico"),m=h.children("span.ui-icon-"+C.sortorder),v=h.children("span.ui-icon-"+("asc"===C.sortorder?"desc":"asc"));d=C.colModel[C.lastsort],p.find("span.ui-grid-ico-sort").addClass(c),p.attr("aria-selected","false"),C.frozenColumns&&(g.find("span.ui-grid-ico-sort").addClass(c),g.find("th").attr("aria-selected","false")),C.viewsortcols[0]||(C.lastsort!==t?(C.frozenColumns&&g.find("span.s-ico").hide(),p.find("span.s-ico").hide(),h.show()):""===C.sortname&&h.show()),C.lastsort!==t&&"true"===p.data("autoResized")&&(null!=d&&null!=d.autoResizing&&d.autoResizing.compact||C.autoResizing.compact)&&C.columnsToReResizing.push(C.lastsort),d=C.colModel[t],h.css("display",""),""!==d.lso?(m.removeClass(c).css("display",""),C.showOneSortIcon&&v.removeClass(c).hide(),f.attr("aria-selected","true")):(f.attr("aria-selected","false"),C.threeStateSort&&(C.sortorder="",C.viewsortcols[0]||h.hide())),C.lastsort!==t&&"true"===f.data("autoResized")&&(null!=d&&null!=d.autoResizing&&d.autoResizing.compact||C.autoResizing.compact)&&C.columnsToReResizing.push(t),C.sortname=d.index||e}if(feedback.call(n,"onSortCol",C.sortname,t,C.sortorder,l||{})){if("local"===C.datatype?C.deselectAfterSort&&!C.multiPageSelection&&r.resetSelection.call($(n)):C.multiPageSelection||(C.selrow=null,C.multiselect&&(ee.call(n,!1),clearArray(C.selarrrow))),clearArray(C.savedRow),C.editingInfo={},C.scroll){var b=s.bDiv.scrollLeft;q.emptyRows.call(n,!0,!1),s.hDiv.scrollLeft=b}C.subGrid&&"local"===C.datatype&&$("td.sgexpanded","#"+jqID(C.id)).each(function(){$(this).trigger("click")}),J.call(n),C.lastsort=t,C.sortname!==e&&t&&(C.lastsort=t)}else C.lastsort=t}},oe=function(e){var t,r=e,i=e;for(t=e+1;t<C.colModel.length;t++)if(!0!==C.colModel[t].hidden){i=t;break}return i-r},le=function(e){return C.iColByName[(e.id||"").substring(C.id.length+1)]};-1===d(C.multikey,B)&&(C.multikey=!1),C.keyName=!1,C.sortorder=C.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var ne,se,de=jgrid.cmTemplate;for(ne=0;ne<C.colModel.length;ne++)k="string"==typeof(se=C.colModel[ne]).template?null==de||"object"!=typeof de[se.template]&&!l(de[se.template])?{}:de[se.template]:se.template,l(k)&&(k=k.call(a,{cm:se,iCol:ne})),se=s(!0,{},C.cmTemplate,k||{},se),!1===C.keyName&&!0===se.key&&(C.keyName=se.name),C.colModel[ne]=se;for(C.indexByColumnData=R(),ne=0;ne<C.additionalProperties.length;ne++)se=C.additionalProperties[ne],!1===C.keyName&&!0===se.key&&(C.keyName=se.name);if(0===C.colNames.length)for(ne=0;ne<C.colModel.length;ne++)C.colNames[ne]=void 0!==C.colModel[ne].label?C.colModel[ne].label:C.colModel[ne].name;if(C.colNames.length===C.colModel.length){if(!0===C.grouping&&(C.scroll=!1,C.rownumbers=!1,C.treeGrid=!1,C.gridview=!0),C.subGrid&&l(r.setSubGrid))try{r.setSubGrid.call(o)}catch(e){}if(C.multiselect&&("left"===C.multiselectPosition||"right"===C.multiselectPosition)){var ce="left"===C.multiselectPosition?"unshift":"push";C.colNames[ce]("<input id='"+C.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),C.colModel[ce]({name:"cb",width:jgrid.cell_width?C.multiselectWidth+C.cellLayout:C.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(C.rownumbers&&(C.colNames.unshift(""),C.colModel.unshift({name:"rn",width:jgrid.cell_width?C.rownumWidth+C.cellLayout:C.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),C.iColByName=_(C.colModel),C.xmlReader=s(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},C.xmlReader),C.jsonReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},C.jsonReader),C.localReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},C.localReader),C.scroll&&(C.pgbuttons=!1,C.pginput=!1,C.rowList=[]),!0===C.treeGrid){try{r.setTreeGrid.call(o)}catch(e){}"local"!==C.datatype&&(C.localReader={id:"_id_"}),C.iPropByName=S(C.additionalProperties)}if(function(){var e,t,r,i=C.remapColumns,a=C.colModel,o=a.length,l=[];for(e=0;e<o;e++)r=a[e].name,d(r,C.reservedColumnNames)<0&&l.push(r);if(null!=i)for(t=l.slice(),e=0;e<i.length;e++)l[e]=t[i[e]];C.cmNamesInputOrder=l}(),function(){var e,t,r,i,a,o=C.colModel,l=C.cmNamesInputOrder,n=C.additionalProperties,s=l.length;for(C.arrayReaderInfos={},t=C.arrayReaderInfos,a=0;a<s;a++)r=l[a],d(r,C.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(void 0!==(i=C.iColByName[r])?t[r]={name:r,index:i,order:a,type:0}:void 0!==(i=C.iPropByName[r])?t[r]={name:r,index:i,order:a,type:1}:r===(C.prmNames.rowidName||"rowid")&&(t[r]={index:i,type:2}));for(s=o.length,e=0;e<s;e++)r=o[e].name,d(r,C.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(t[r]={name:r,index:e,order:a,type:0},a++);for(s=n.length,e=0;e<s;e++)null==(r=n[e])||t.hasOwnProperty(r)||("object"==typeof r&&"string"===$.type(r.name)&&(r=r.name),t[r]={name:r,index:e,order:a,type:1},a++)}(),C.data.length&&(H.call(a),W.call(a)),!0===C.shrinkToFit&&!0===C.forceFit)for(ne=C.colModel.length-1;ne>=0;ne--)if(!0!==C.colModel[ne].hidden){C.colModel[ne].resizable=!1;break}var ue,ge,pe,fe,he,me,ve,be,we=[],ye=[],Ce=[],xe="<thead><tr class='ui-jqgrid-labels' role='row'>",$e="<tbody><tr style='display:none;'>",je=y("states.hover"),De=y("states.disabled");if(C.multiSort){we=C.sortname.split(",");var _e;for(_e=0;_e<we.length;_e++)Ce=c(we[_e]).split(" "),we[_e]=c(Ce[0]),ye[_e]=Ce[1]?c(Ce[1]):C.sortorder||"asc"}for(ne=0;ne<C.colNames.length;ne++){switch(se=C.colModel[ne],he=C.headertitles||se.headerTitle?" title='"+stripHtml("string"==typeof se.headerTitle?se.headerTitle:C.colNames[ne])+"'":"",xe+="<th id='"+C.id+"_"+se.name+"' class='"+y("colHeaders","ui-th-column ui-th-"+E+" "+(se.labelClasses||""))+"'"+he+">",ue=se.index||se.name,se.labelAlign){case"left":me="text-align:left;";break;case"right":me="text-align:right;";break;case"likeData":me=void 0===se.align||"left"===se.align?"text-align:left;":"right"===se.align?"text-align:right;":"";break;default:me=""}xe+="<div id='jqgh_"+C.id+"_"+se.name+"'"+(T?" class='ui-th-div-ie'":"")+(""===me?"":" style='"+me+"'")+" role='columnheader'>",be=se.autoResizable&&"actions"!==se.formatter||se.rotated?"<span class='"+C.autoResizing.wrapperClassName+"'>"+C.colNames[ne]+"</span>":C.colNames[ne],C.sortIconsBeforeText?(xe+=(C.builderSortIcons||jgrid.builderSortIcons).call(a,ne),xe+=be):(xe+=be,xe+=(C.builderSortIcons||jgrid.builderSortIcons).call(a,ne)),xe+="</div></th>",$e+="<td></td>",se.width=se.width?parseInt(se.width,10):150,"boolean"!=typeof se.title&&(se.title=!0),se.lso="",ue===C.sortname&&(C.lastsort=ne,se.lso=C.sortorder||se.firstsortorder||"asc"),C.multiSort&&-1!==(Ce=d(ue,we))&&(se.lso=ye[Ce])}xe+="</tr></thead>",$e+="</tr></tbody>";var Re=$("<table class='"+y("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+C.id+"'>"+xe+$e+"</table>");if($(Re[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(je)},function(){$(this).removeClass(je)}),C.multiselect&&$(C.cb,Re).on("click",function(){var e,t,r=y("states.select"),i=[],o=C.iColByName.cb,l=function(e,t){$(e)[t?"addClass":"removeClass"](r).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==o&&$(e.cells[o]).children("input.cbox").prop("checked",t)},n=q.fbRows,s=De+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",d=C._index;if(clearArray(C.selarrrow),this.checked){if(e=!0,C.selrow=a.rows.length>1?a.rows[a.rows.length-1].id:null,C.multiPageSelection&&("local"===C.datatype||C.treeGrid)&&null!=C.data&&C.data.length>0&&null!=d)for(t in d)d.hasOwnProperty(t)&&C.selarrrow.push(C.idPrefix+t)}else e=!1,C.selrow=null;var c=e?C.selarrrow:i;$(a.rows).each(function(t){hasOneFromClasses(this,s)||(l(this,e),$.inArray(this.id,c)<0&&c.push(this.id),n&&l(n[t],e))}),feedback.call(a,"onSelectAll",e?C.selarrrow:i,e)}),!0===C.autowidth){var Se=Math.floor($(G).innerWidth());C.width=Se>0?Se:"nw"}isNaN(C.width)?isNaN(parseFloat(C.width))||(C.width=parseFloat(C.width)):C.width=Number(C.width),C.widthOrg=C.width,function(){var e,t,r,i,a=0,o=jgrid.cell_width?0:O(C.cellLayout,0),l=0,n=O(C.scrollOffset,0),s=!1,c=0,g=jgrid.isCellClassHidden;u(C.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),C.grouping&&C.autowidth){var e=d(this.name,C.groupingView.groupField);e>=0&&C.groupingView.groupColumnShow.length>e&&(this.hidden=!C.groupingView.groupColumnShow[e])}this.widthOrg=t=O(this.width,0),!1!==this.hidden||g(this.classes)||(a+=t+o,this.fixed?c+=t+o:l++)}),isNaN(C.width)&&(C.width=a+(!1!==C.shrinkToFit||isNaN(C.height)?0:n)),q.width=C.width,C.tblwidth=a,!1===C.shrinkToFit&&!0===C.forceFit&&(C.forceFit=!1),!0===C.shrinkToFit&&l>0&&(r=q.width-o*l-c,isNaN(C.height)||(r-=n,s=!0),a=0,u(C.colModel,function(i){!1!==this.hidden||g(this.classes)||this.fixed||(t=Math.round(r*this.width/(C.tblwidth-o*l-c)),this.width=t,a+=t,e=i)}),i=0,s?q.width-c-(a+o*l)!==n&&(i=q.width-c-(a+o*l)-n):s||1===Math.abs(q.width-c-(a+o*l))||(i=q.width-c-(a+o*l)),C.colModel[e].width+=i,C.tblwidth=a+i+o*l+c,C.tblwidth>C.width&&(C.colModel[e].width-=C.tblwidth-parseInt(C.width,10),C.tblwidth=C.width))}(),$(G).css("width",q.width+"px").append("<div class='"+y("resizer","ui-jqgrid-resize-mark")+"' id='"+C.rsId+"'>&#160;</div>"),$(C.rs).on("selectstart",function(){return!1}).click(I).dblclick(function(e){var t=$(this).data("idx"),i=$(this).data("pageX"),l=C.colModel[t];if(null==i||null==l)return!1;var n=String(i).split(";"),s=parseFloat(n[0]),d=parseFloat(n[1]);return(2!==n.length||!(Math.abs(s-d)>5||Math.abs(e.pageX-s)>5||Math.abs(e.pageX-d)>5))&&(feedback.call(a,"resizeDblClick",t,l,e)&&l.autoResizable&&r.autoResizeColumn.call(o,t),feedback.call(a,"afterResizeDblClick",{iCol:t,cm:l,cmName:l.name}),!1)}),$(A).css("width",q.width+"px");var Ne="";C.footerrow&&(Ne+="<table role='presentation' style='width:1px' class='"+y("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+y("rowFooter","footrow footrow-"+E)+"'>");var Ie="<tr class='"+y("gridRow","jqgfirstrow ui-row-"+C.direction)+"' role='row' style='height:auto'>";if(C.disableClick=!1,$("th",Re[0].tHead.rows[0]).each(function(e){var t=C.colModel[e],r=t.name,i=$(this),o=i.children("div"),n=o.children("span.s-ico"),s=C.showOneSortIcon;ge=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(pe=document.createElement("span"),$(pe).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+E).on("selectstart",function(){return!1}),i.addClass(C.resizeclass)):pe="",i.css("width",ge+"px").prepend(pe),pe=null;var c="";if(!0===t.hidden&&(i.css("display","none"),c="display:none;"),Ie+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+ge+"px;"+c+"'></td>",q.headers[e]={width:ge,el:this},"boolean"!=typeof(fe=t.sortable)&&(t.sortable=!0,fe=!0),"cb"!==r&&"subgrid"!==r&&"rn"!==r&&fe&&C.viewsortcols[2]&&o.addClass("ui-jqgrid-sortable"),fe)if(C.multiSort){var u="desc"===t.lso?"asc":"desc";C.viewsortcols[0]?(n.css("display",""),t.lso&&(n.children("span.ui-icon-"+t.lso).removeClass(De),s&&n.children("span.ui-icon-"+u).hide())):t.lso&&(n.css("display",""),n.children("span.ui-icon-"+t.lso).removeClass(De),s&&n.children("span.ui-icon-"+u).hide()),C.showSortOrder&&(Ce=d(r,we),n["beforeSortIcons"===C.sortOrderPosition?"before":"after"]("<span class='ui-jqgrid-sort-order'>"+(Ce<0?"&nbsp;":l(C.formatSortOrder)?C.formatSortOrder.call(a,{cm:this,sortIndex:Ce}):Ce+1)+"</span>"))}else{var g="desc"===C.sortorder?"asc":"desc";C.viewsortcols[0]?(n.css("display",""),e===C.lastsort&&(n.children("span.ui-icon-"+C.sortorder).removeClass(De),s&&n.children("span.ui-icon-"+g).hide())):e===C.lastsort&&""!==t.lso&&(n.css("display",""),n.children("span.ui-icon-"+C.sortorder).removeClass(De),s&&n.children("span.ui-icon-"+g).hide())}C.footerrow&&(Ne+="<td role='gridcell' "+F(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,r=$(this),i=r.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return null!=(t=le(this))&&(!0===C.forceFit&&(C.nv=oe(t)),q.dragStart(t,e,function(){var e=[r.position().left+r.outerWidth()];return"rtl"===C.direction&&(e[0]=C.width-e[0]),e[0]-=i?0:q.bDiv.scrollLeft,e.push($(q.hDiv).position().top),e.push($(q.bDiv).offset().top-$(q.hDiv).offset().top+$(q.bDiv).height()+(q.sDiv?$(q.sDiv).height():0)),e}(),r)),!1}).click(function(e){if(C.disableClick)return C.disableClick=!1,!1;var t,r,i="th.ui-th-column>div";C.viewsortcols[2]?i+=".ui-jqgrid-sortable":i+=">span.s-ico>span.ui-grid-ico-sort";var o=$(e.target).closest(i);if(1===o.length){C.viewsortcols[2]||(t=!0,r=o.hasClass("ui-icon-desc")?"desc":"asc");var l=le(this);return null!=l&&ae.call(a,$("div",this)[0].id.substring(5+C.id.length+1),l,t,r,this,e),!1}}),C.sortable&&l(r.sortableColumns))try{r.sortableColumns.call(o,$(Re[0].tHead.rows[0]))}catch(e){}C.footerrow&&(Ne+="</tr></tbody></table>"),Ie+="</tr>",o.html("<tbody>"+Ie+"</tbody>"),o.addClass(y("grid","ui-jqgrid-btable"+(!0===C.altRows&&o.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Oe=!(!C.caption||!0!==C.hiddengrid),qe=$("<div class='ui-jqgrid-hbox"+("rtl"===E?"-rtl":"")+"'></div>"),Ee=y("top"),Ae=y("bottom");if(q.hDiv=document.createElement("div"),$(q.hDiv).css({width:q.width+"px"}).addClass(y("hDiv","ui-jqgrid-hdiv")).append(qe).scroll(function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1}),$(qe).append(Re),Re=null,Oe&&$(q.hDiv).hide(),C.rowNum=parseInt(C.rowNum,10),(isNaN(C.rowNum)||C.rowNum<=0)&&(C.rowNum=C.maxRowNum),C.pager){var Te,Ge;"string"==typeof C.pager&&"#"!==C.pager.substr(0,1)?(Ge=C.pager,Te=$("#"+jqID(C.pager))):!0===C.pager?(Ge=randId(),(Te=$("<div id='"+Ge+"'></div>")).appendTo("body"),C.pager="#"+jqID(Ge)):Ge=(Te=$(C.pager)).attr("id"),Te.length>0?(Te.css({width:q.width+"px"}).addClass(y("pager.pager","ui-jqgrid-pager "+Ae)).appendTo(G),Oe&&Te.hide(),te.call(a,Ge,""),C.pager="#"+jqID(Ge)):C.pager=""}!1===C.cellEdit&&!0===C.hoverrows&&o.on("mouseover.jqGrid",function(e){ve=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(ve).attr("class")&&$(ve).addClass(je)}).on("mouseout.jqGrid",function(e){ve=$(e.target).closest("tr.jqgrow"),$(ve).removeClass(je)});var ke=function(e){var t,r,i;do{if((t=$(e).closest("td")).length>0){if(r=t.parent(),i=r.parent().parent(),r.is(".jqgrow")&&(i[0]===this||i.is("table.ui-jqgrid-btable")&&(i[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(t.length>0);return t};o.before(q.hDiv).click(function(e){var t=y("states.select"),i=e.target,l=ke.call(a,i),n=l.parent();if(0!==n.length&&!hasOneFromClasses(n,De)){var s=n[0].id,d=l[0].cellIndex,c=$(i).hasClass("cbox")&&$(i).is(":enabled")&&!hasOneFromClasses(i,De),u=feedback.call(a,"beforeSelectRow",s,e),p=!1,f=jgrid.detectRowEditing.call(a,s),h=null!=f&&"cellEditing"!==f.mode;if("A"!==i.tagName&&(!h||c)){if(feedback.call(a,"onCellSelect",s,d,l.html(),e),!0===C.cellEdit){if(u&&C.multiselect&&c){if(g.call(o,s,!0,e),c&&!C.noCellSelection)return;p=!0}try{r.editCell.call(o,n[0].rowIndex,d,!0)}catch(e){}if(!C.multiselect||!C.noCellSelection||C.multiboxonly&&p)return}if(u)if(C.multikey)e[C.multikey]&&!p?g.call(o,s,!0,e):C.multiselect&&c&&(c=$("#jqg_"+jqID(C.id)+"_"+s).is(":checked"),$("#jqg_"+jqID(C.id)+"_"+s).prop("checked",!c));else if(C.multiselect&&C.multiboxonly)if(c&&!p)g.call(o,s,!0,e);else{var m=C.frozenColumns?C.id+"_frozen":"";$(C.selarrrow).each(function(e,i){var a=r.getGridRowById.call(o,i);a&&$(a).removeClass(t),$("#jqg_"+jqID(C.id)+"_"+jqID(i)).prop("checked",!1),m&&($("#"+jqID(i),"#"+jqID(m)).removeClass(t),$("#jqg_"+jqID(C.id)+"_"+jqID(i),"#"+jqID(m)).prop("checked",!1))}),clearArray(C.selarrrow),p||g.call(o,s,!0,e)}else{var v=C.selrow;p||g.call(o,s,!0,e),"toggle"!==C.singleSelectClickMode||C.multiselect||v!==s||(a.grid.fbRows&&(n=n.add(a.grid.fbRows[n[0].rowIndex]===n[0]?a.rows[n[0].rowIndex]:a.grid.fbRows[n[0].rowIndex])),n.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),C.selrow=null)}else c&&$(i).prop("checked",!1)}}}).on("reloadGrid",function(e,t){var i=this,a=i.grid,o=$(this);if(!0===C.treeGrid&&(C.datatype=C.treedatatype),t=s({},defaults.reloadGridOptions||{},C.reloadGridOptions||{},t||{}),"local"===C.datatype&&C.dataTypeOrg&&C.loadonce&&t.fromServer&&(C.datatype=C.dataTypeOrg,delete C.dataTypeOrg),t.current&&a.selectionPreserver.call(i),"local"===C.datatype?(C.multiPageSelection||r.resetSelection.call(o),C.data.length&&(H.call(i),W.call(i))):C.treeGrid||C.multiPageSelection||(C.selrow=null,C.multiselect&&(clearArray(C.selarrrow),ee.call(i,!1)),clearArray(C.savedRow),C.editingInfo={}),C.iRow=-1,C.iCol=-1,C.scroll&&q.emptyRows.call(i,!0,!1),t.page){var l=parseInt(t.page,10);l>C.lastpage&&(l=C.lastpage),l<1&&(l=1),C.page=l,a.prevRowHeight?a.bDiv.scrollTop=(l-1)*a.prevRowHeight*C.rowNum:a.bDiv.scrollTop=0}return a.prevRowHeight&&C.scroll&&void 0===t.page?(delete C.lastpage,a.populateVisible.call(i)):a.populate.call(i),!0===C._inlinenav&&o.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=ke.call(a,e.target),r=t.parent();if(t.length>0&&!feedback.call(a,"ondblClickRow",r.attr("id"),r[0].rowIndex,t[0].cellIndex,e))return!1}).on("contextmenu",function(e){var t=ke.call(a,e.target),r=t.parent(),i=r.attr("id");if(0!==t.length)return C.multiselect||C.selrow===i||!0!==C.selectOnContextMenu||g.call(o,i,!0,e),!!feedback.call(a,"onRightClickRow",i,r[0].rowIndex,t[0].cellIndex,e)&&void 0}),q.bDiv=document.createElement("div"),T&&"auto"===String(C.height).toLowerCase()&&(C.height="100%"),$(q.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(a)).addClass("ui-jqgrid-bdiv").css({height:C.height+(isNaN(C.height)?"":"px"),width:q.width+"px"}).scroll(q.scrollGrid),C.maxHeight&&$(q.bDiv).css("max-height",C.maxHeight+(isNaN(C.maxHeight)?"":"px")),o.css({width:"1px"}),$.support.tbody||2===$(">tbody",a).length&&$(">tbody:gt(0)",a).remove(),C.multikey&&$(q.bDiv).on(jgrid.msie?"selectstart":"mousedown",function(){return!1}),Oe&&$(q.bDiv).hide(),q.cDiv=document.createElement("div");var Be=w("gridMinimize.visible"),Me=w("gridMinimize.hidden"),Fe=j("showhide"),Pe=!0===C.hidegrid?$("<a role='link' class='"+y("titleButton","ui-jqgrid-titlebar-close")+"'"+(Fe?" title='"+Fe+"'":"")+"/>").hover(function(){Pe.addClass(je)},function(){Pe.removeClass(je)}).append("<span class='"+Be+"'></span>"):"";if($(q.cDiv).append("<span class='ui-jqgrid-title'>"+C.caption+"</span>").append(Pe).addClass(y("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===E?"-rtl ":" ")+Ee)),$(q.cDiv).insertBefore(q.hDiv),C.toolbar[0]){q.uDiv=document.createElement("div"),"top"===C.toolbar[1]?$(q.uDiv).insertBefore(q.hDiv):"bottom"===C.toolbar[1]&&$(q.uDiv).insertAfter(q.hDiv);var Le=y("toolbarUpper","ui-userdata");"both"===C.toolbar[1]?(q.ubDiv=document.createElement("div"),$(q.uDiv).addClass(Le).attr("id","t_"+C.id).insertBefore(q.hDiv),$(q.ubDiv).addClass(y("toolbarBottom","ui-userdata")).attr("id","tb_"+C.id).insertAfter(q.hDiv),Oe&&$(q.ubDiv).hide()):$(q.uDiv).width(q.width).addClass(Le).attr("id","t_"+C.id),Oe&&$(q.uDiv).hide()}if("string"==typeof C.datatype&&(C.datatype=C.datatype.toLowerCase()),C.toppager?(C.toppager=C.id+"_toppager",q.topDiv=$("<div id='"+C.toppager+"'></div>")[0],$(q.topDiv).addClass(y("pager.pager","ui-jqgrid-toppager"+(C.caption?"":" "+Ee))).css({width:q.width+"px"}).insertBefore(q.hDiv),te.call(a,C.toppager,"_t"),C.toppager="#"+jqID(C.toppager)):""!==C.pager||C.scroll||(C.rowNum=C.maxRowNum),C.footerrow&&(q.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],qe=$("<div class='ui-jqgrid-hbox"+("rtl"===E?"-rtl":"")+"'></div>"),$(q.sDiv).append(qe).width(q.width).insertAfter(q.hDiv),$(qe).append(Ne),q.footers=$(".ui-jqgrid-ftable",q.sDiv)[0].rows[0].cells,C.rownumbers&&(q.footers[0].className=y("rowNum","jqgrid-rownum")),Oe&&$(q.sDiv).hide()),qe=null,C.caption){var ze=C.datatype;!0===C.hidegrid&&($(".ui-jqgrid-titlebar-close",q.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",r=this;!0===C.toolbar[0]&&("both"===C.toolbar[1]&&(t+=",#"+jqID($(q.ubDiv).attr("id"))),t+=",#"+jqID($(q.uDiv).attr("id")));var i=$(t,C.gView).length;return C.toppager&&(t+=","+C.toppager),"visible"===C.gridstate?$(t,C.gBox).slideUp("fast",function(){0===--i&&($("span",r).removeClass(Be).addClass(Me),C.gridstate="hidden",$(C.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",C.gBox).hide(),$(q.cDiv).addClass(Ae),Oe||feedback.call(a,"onHeaderClick",C.gridstate,e))}):"hidden"===C.gridstate&&($(q.cDiv).removeClass(Ae),$(t,C.gBox).slideDown("fast",function(){0===--i&&($("span",r).removeClass(Me).addClass(Be),Oe&&(C.datatype=ze,J.call(a),Oe=!1),C.gridstate="visible",$(C.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",C.gBox).show(),Oe||feedback.call(a,"onHeaderClick",C.gridstate,e))})),!1}),Oe&&(C.datatype="local",$(".ui-jqgrid-titlebar-close",q.cDiv).trigger("click")))}else $(q.cDiv).hide(),$(q.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(q.hDiv).after(q.bDiv),q.eDiv=$("<div class='"+y("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+E)+"' style='display:none;'><span class='"+y("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(q.hDiv).after(q.eDiv),$(G).click(I).dblclick(function(e){var t=$(C.rs),i=t.offset(),l=t.data("idx"),n=t.data("delta"),s=C.colModel[l],d=$(this).data("pageX")||t.data("pageX");if(null==d||null==s)return!1;var c=String(d).split(";"),u=parseFloat(c[0]),g=parseFloat(c[1]);return(2!==c.length||!(Math.abs(u-g)>5||Math.abs(e.pageX-u)>5||Math.abs(e.pageX-g)>5))&&(feedback.call(a,"resizeDblClick",l,s)&&i.left-1<=e.pageX+n&&e.pageX+n<=i.left+t.outerWidth()+1&&s.autoResizable&&r.autoResizeColumn.call(o,l),feedback.call(a,"afterResizeDblClick",{iCol:l,cm:s,cmName:s.name}),!1)}),C.pager||$(q.cDiv).nextAll("div:visible").filter(":last").addClass(Ae),$(".ui-jqgrid-labels",q.hDiv).on("selectstart",function(){return!1}),a.formatCol=F,a.sortData=ae,a.updatepager=function(e,t){var r,i,a,o,l,n,s,d,c=this,u=$(c),g=c.grid,p=C.pager||"",f=C.pager?"_"+C.pager.substr(1):"",h=g.bDiv,m=$.fmatter?$.fmatter.NumberFormat:null,v=C.toppager?"_"+C.toppager.substr(1):"",b=y("states.hover"),w=y("states.disabled");if((a=parseInt(C.page,10)-1)<0&&(a=0),a*=parseInt(C.rowNum,10),l=a+C.reccount,C.scroll){var D=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,h)[0].rows).slice(1);a=l-D.length,C.reccount=D.length;var _=D.outerHeight()||g.prevRowHeight;if(_){var R=a*_,S=jgrid.fixMaxHeightOfDiv.call(c,parseInt(C.records,10)*_);$(h).children("div").first().css({height:S+"px"}).children("div").first().css({height:R+"px",display:""}),0===h.scrollTop&&C.page>1&&(h.scrollTop=C.rowNum*(C.page-1)*_)}h.scrollLeft=g.hDiv.scrollLeft}if(p+=C.toppager?(p?",":"")+C.toppager:""){if(s=x("formatter.integer")||{},r=O(C.page),i=O(C.lastpage),$(".selbox",p).prop("disabled",!1),!0===C.pginput){var N=$(".ui-pg-input",p),I=String(C.page).length;N.val(C.page),N.each(function(){var e=parseInt($(this).attr("size"),10);e>0&&e<I&&$(this).attr("size",I)}),d=C.toppager?"#sp_1"+f+",#sp_1"+v:"#sp_1"+f,$(d).html($.fmatter?m(C.lastpage,s):C.lastpage).closest(".ui-pg-table").each(function(){Z.call(c,$(this))})}C.viewrecords&&(0===C.reccount?$(".ui-paging-info",p).html(j("emptyrecords")):(o=a+1,n=C.records,$.fmatter&&(o=m(o,s),l=m(l,s),n=m(n,s)),$(".ui-paging-info",p).html(jgrid.format(j("recordtext"),o,l,n)))),!0===C.pgbuttons&&(i<=0&&(r=0),r<=0&&(r=i=0),1===r||0===r?($("#first"+f+", #prev"+f).addClass(w).removeClass(b),C.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(w).removeClass(b)):($("#first"+f+", #prev"+f).removeClass(w),C.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(w)),r===i||0===r?($("#next"+f+", #last"+f).addClass(w).removeClass(b),C.toppager&&$("#next_t"+v+", #last_t"+v).addClass(w).removeClass(b)):($("#next"+f+", #last"+f).removeClass(w),C.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(w)))}!0===e&&!0===C.rownumbers&&$(">td.jqgrid-rownum",c.rows).each(function(e){$(this).html(a+1+e)}),t&&C.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(c,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},a.refreshIndex=W,a.addItemDataToColumnIndex=z,a.removeItemDataFromColumnIndex=function(e){var t,r,i,a=C.dataIndexById[e];if(null!=a){for(t in a)if(a.hasOwnProperty(t)){r=a[t];for(i in r)r.hasOwnProperty(i)&&(delete C.indexByColumnData[t][i][e],$.isEmptyObject(C.indexByColumnData[t][i])&&delete C.indexByColumnData[t][i])}delete C.dataIndexById[e]}},a.generateValueFromColumnIndex=function(e,t,r){var i,a,o=$(this).jqGrid("getUniqueValueFromColumnIndex",e),l="";if(null!=o)for(r=r||";",t=t||":",i=0,a=o.length;i<a;i++)""!==l&&(l+=r||";"),l+=o[i]+(t||":")+o[i];return l},a.setHeadCheckBox=ee,a.fixScrollOffsetAndhBoxPadding=D,a.constructTr=function(e,t,i,a,o,n){var s,d="-1",c="",u=t?"display:none;":"",g=this,p=y("gridRow","jqgrow ui-row-"+C.direction)+(i?" "+i:"")+(n?" "+y("states.select"):""),f=$(g).triggerHandler("jqGridRowAttr",[a,o,e]);if("object"!=typeof f&&(f=l(C.rowattr)?C.rowattr.call(g,a,o,e):"string"==typeof C.rowattr&&null!=jgrid.rowattr&&l(jgrid.rowattr[C.rowattr])?jgrid.rowattr[C.rowattr].call(g,a,o,e):{}),null!=f&&!$.isEmptyObject(f)){f.hasOwnProperty("id")&&(e=f.id,delete f.id),f.hasOwnProperty("tabindex")&&(d=f.tabindex,delete f.tabindex),f.hasOwnProperty("style")&&(u+=f.style,delete f.style),f.hasOwnProperty("class")&&(p+=" "+f.class,delete f.class);try{delete f.role}catch(e){}for(s in f)f.hasOwnProperty(s)&&(c+=" "+s+"="+f[s])}if(C.treeGrid&&parseInt(a[C.treeReader.level_field],10)!==parseInt(C.tree_root_level,10)){var h=r.getNodeParent.call($(this),a);!h||!h.hasOwnProperty(C.treeReader.expanded_field)||h[C.treeReader.expanded_field]||t||(u+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+d+"' class='"+p+"'"+(""===u?"":" style='"+u+"'")+c+">"},a.formatter=function(e,t,r,i,o,n){var s,d=C.colModel[r];if(void 0!==d.formatter){var c={rowId:e=""!==String(C.idPrefix)?M(e):e,colModel:d,gid:C.id,pos:r,rowData:n||i};s=l(d.cellBuilder)?d.cellBuilder.call(a,t,c,i,o):l(d.formatter)?d.formatter.call(a,t,c,i,o):$.fmatter?$.fn.fmatter.call(a,d.formatter,t,c,i,o):P(t)}else s=P(t);if(s=d.autoResizable&&"actions"!==d.formatter?"<span class='"+C.autoResizing.wrapperClassName+"'>"+s+"</span>":s,C.treeGrid&&"edit"!==o&&(null==C.ExpandColumn&&0===r||C.ExpandColumn===d.name)){null==n&&(n=C.data[C._index[e]]);var u=parseInt(n[C.treeReader.level_field]||0,10),g=0===parseInt(C.tree_root_level,10)?u:u-1,p=n[C.treeReader.leaf_field],f=n[C.treeReader.expanded_field],h=n[C.treeReader.icon_field],m=p?(null!=h&&""!==h?h:C.treeIcons.leaf)+" tree-leaf":f?C.treeIcons.minus+" tree-minus":C.treeIcons.plus+" tree-plus";if(!p&&h&&"string"==typeof h){var v=h.split(",");2===v.length&&(m=f?v[0]:v[1])}s="<div class='tree-wrap' style='width:"+18*(g+1)+"px;'><div class='"+mergeCssClasses(C.treeIcons.commonIconClass,m,"treeclick")+"' style='"+(!0===C.ExpandColClick?"cursor:pointer;":"")+("rtl"===C.direction?"margin-right:":"margin-left:")+18*g+"px;'></div></div><span class='cell-wrapper"+(p?"leaf":"")+"'"+(C.ExpandColClick?" style='cursor:pointer;'":"")+">"+s+"</span>"}return s},s(q,{populate:J,emptyRows:function(e,t){var r=this,i=q.bDiv,a=null!=q.fbDiv?q.fbDiv.children(".ui-jqgrid-btable")[0]:null,o=function(e){if(e){var t=e.rows,r=t[0];if(C.deepempty)t&&$(t).slice(1).remove();else if(C.quickEmpty)if("quickest"===C.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(r);else for(;t.length>1;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(r)}};$(r).off(".jqGridFormatter"),o(r),o(a),e&&C.scroll&&($(i.firstChild).css({height:"auto"}),$(i.firstChild.firstChild).css({height:0,display:"none"}),0!==i.scrollTop&&(i.scrollTop=0)),!0===t&&C.treeGrid&&(clearArray(C.data),clearArray(C.lastSelectedData),C._index={},C.dataIndexById={},C.indexByColumnData={}),C.rowIndexes={},C.iRow=-1,C.iCol=-1},beginReq:Q,endReq:K}),a.addXmlData=X,a.addJSONData=X,a.rebuildRowIndexes=N,a.grid.cols=a.rows[0].cells,feedback.call(a,"onInitGrid"),C.treeGrid&&"local"===C.datatype&&null!=C.data&&C.data.length>0&&(C.datatype="jsonstring",C.datastr=C.data,C.data=[]),J.call(a),C.hiddengrid=!1}else f(x("errors.model"))}else f("Element is not a table!")}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var r=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),i=jgrid.getRes(jgrid,e);return"object"!=typeof r||null===r||$.isArray(r)?void 0!==i?i:r:$.extend(!0,{},r,i||{})},getGuiStyles:function(e,t){var r=this instanceof $&&this.length>0?this[0]:this;if(!r||!r.grid||!r.p)return"";var i,a=r.p.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",o=jgrid.getRes(jgrid.guiStyles[a],e);return void 0===o&&"string"==typeof(i=jgrid.getRes(jgrid.guiStyles[a],"baseGuiStyle"))&&(o=jgrid.getRes(jgrid.guiStyles[i],e)),jgrid.mergeCssClasses(o||"",t||"")},isBootstrapGuiStyle:function(){return $.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))>=0},displayErrorMessage:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(t&&t.grid&&t.p&&e){var r=$(t.grid.eDiv),i=r.children(".ui-jqgrid-error");i.html(e),r.show(),t.p.errorDisplayTimeout&&setTimeout(function(){i.empty(),r.hide()},t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet],a=function(e,t){var r,i,a,o=t.split("."),l=o.length,n=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for((r=e).common&&n.push(r.common),a=0;a<l&&(i=o[a]);a++){if(void 0===(r=r[i])){if("common"===i)break;return""}if("string"==typeof r){n.push(r);break}null!=r&&r.common&&n.push(r.common)}return jgrid.mergeCssClasses.apply(this,n)};if(null==i)return"";var o=a(r.iconSet,e);return""===o&&null!=i.baseIconSet&&(o=a(i.baseIconSet,e)),o||""},isInCommonIconClass:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet];if(null==i)return!1;var a=i.common;if(void 0===a){if(null==i.baseIconSet)return!1;if(null==(i=jgrid.icons[i.baseIconSet]))return!1;a=i.common}return"string"==typeof a&&$.inArray(e,a.split(" "))>=0},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var r,i=[],a="",o=t.p.indexByColumnData[e];if(null!=o){for(a in o)if(o.hasOwnProperty(a)){for(r in o[a])if(o[a].hasOwnProperty(r)){a=String(o[a][r]);break}i.push(a)}t.p.ignoreCase?void 0===String.prototype.localeCompare?i.sort(function(e,t){var r=e.toLowerCase(),i=t.toLowerCase();return r===i?0:r>i?1:-1}):i.sort(function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())}):i.sort()}return i},generateDatalistFromColumnIndex:function(e){if(!this[0]||!this[0].grid)return null;var t,r,i=this.jqGrid("getUniqueValueFromColumnIndex",e),a=$("<datalist></datalist>");if(!(null!=i&&i.length>0))return $();for(t=0,r=i.length;t<r;t++)a.append($("<option></option>").attr("value",i[t]));return a},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){var r=this;if(null==t&&(t=!1),r.grid&&"object"==typeof e)if(!0===t){var i=$.extend({},r.p,e);r.p=i}else $.extend(!0,r.p,e)})},abortAjaxRequest:function(){return this.each(function(){var e=this;null!=e.p.jqXhr&&e.p.jqXhr.abort(),e.grid.endReq.call(e)})},getGridRowById:function(e){if(null==e)return null;var t,r=e.toString();return this.each(function(){var i,a,o=this.rows;if(null!=this.p.rowIndexes&&(a=o[this.p.rowIndexes[r]])&&a.id===r&&(t=a),!t)try{for(i=o.length;i--;)if(a=o[i],r===a.id){t=a;break}}catch(r){t=$(this.grid.bDiv).find("#"+jqID(e)),t=t.length>0?t[0]:null}}),t},getDataIDs:function(){var e=[];return this.each(function(){var t,r,i=this.rows,a=i.length;if(a&&a>0)for(t=0;t<a;t++)r=i[t],$(r).hasClass("jqgrow")&&e.push(r.id)}),e},setSelection:function(e,t,r){return this.each(function(){var i,a,o,l,n,s,d,c,u=this,g=$(u),p=u.p,f=base.getGuiStyles,h=base.getGridRowById,m=f.call(g,"states.select"),v=f.call(g,"states.disabled"),b=u.grid.fbRows,w=function(e,t){var r=t?"addClass":"removeClass",i=p.iColByName.cb,a=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},o=function(e){$(e)[r](m).attr(a),void 0!==i&&$(e.cells[i]).children("input.cbox").prop("checked",t)};o(e),b&&o(b[e.rowIndex])};void 0!==e&&(t=!1!==t,null!=r&&(d=$(r.target).closest("tr.jqgrow")).length>0&&(a=d[0],b&&(a=u.rows[a.rowIndex])),null==a&&(a=h.call(g,e)),!a||!a.className||a.className.indexOf(v)>-1||(!0===p.scrollrows&&null!=(o=h.call(g,e))&&(o=o.rowIndex)>=0&&function(e,t){var r=t.clientHeight,i=t.scrollTop,a=$(e).position().top,o=e.clientHeight;a+o>=r+i?t.scrollTop=a-(r+i)+o+i:a<r+i&&a<i&&(t.scrollTop=a)}(u.rows[o],u.grid.bDiv),p.multiselect?(u.setHeadCheckBox(!1),p.selrow=a.id,c=jgrid.detectRowEditing.call(u,a.id),-1===(l=$.inArray(p.selrow,p.selarrrow))?(i=!0,p.selarrrow.push(p.selrow)):null===c||"inlineEditing"!==c.mode&&$(r.target).hasClass("cbox")?(i=!1,p.selarrrow.splice(l,1),n=p.selarrrow[0],p.selrow=void 0===n?null:n):i=!0,"ui-subgrid"!==a.className&&w(a,i),t&&feedback.call(u,"onSelectRow",a.id,i,r||{})):"ui-subgrid"!==a.className&&(p.selrow!==a.id?(null!==p.selrow&&(s=h.call(g,p.selrow))&&w(s,!1),w(a,!0),i=!0):i=!1,p.selrow=a.id,t&&feedback.call(u,"onSelectRow",a.id,i,r||{}))))})},resetSelection:function(e){return this.each(function(){var t,r=this,i=$(this),a=r.p,o=base.getGuiStyles,l=base.getGridRowById,n=o.call(i,"states.select"),s="edit-cell "+n,d="selected-row "+o.call(i,"states.hover"),c=a.iColByName.cb,u=void 0!==c,g=r.grid.fbRows,p=function(e){var t,r={"aria-selected":"false",tabindex:"-1"};$(e).removeClass(n).attr(r),u&&$(e.cells[c]).children("input.cbox").prop("checked",!1),g&&(t=g[e.rowIndex],$(t).removeClass(n).attr(r),u&&$(t.cells[c]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=l.call(i,e),p(t),u){r.setHeadCheckBox(!1);var f=$.inArray(e,a.selarrrow);-1!==f&&a.selarrrow.splice(f,1)}}else a.multiselect?($(r.rows).each(function(){var e=$.inArray(this.id,a.selarrrow);-1!==e&&(p(this),a.selarrrow.splice(e,1))}),r.setHeadCheckBox(!1),a.multiPageSelection||clearArray(a.selarrrow),a.selrow=null):a.selrow&&(t=l.call(i,a.selrow),p(t),a.selrow=null);!0===a.cellEdit&&parseInt(a.iCol,10)>=0&&parseInt(a.iRow,10)>=0&&(null!=(t=r.rows[a.iRow])&&($(t.cells[a.iCol]).removeClass(s),$(t).removeClass(d)),g&&null!=(t=g[a.iRow])&&($(t.cells[a.iCol]).removeClass(s),$(t).removeClass(d))),clearArray(a.savedRow),a.editingInfo={}})},isCellEditing:function(e,t,r){var i=this[0],a=jgrid.detectRowEditing.call(i,e);if(null!=a&&("inlineEditing"===a.mode||"cellEditing"===a.mode&&a.savedRow.ic===t)){t=isNaN(t)?i.p.iColByName[t]:parseInt(t,10);var o=null!=r&&r.id===e?r:base.getGridRowById.call($(i),e),l=i.p.colModel[t],n=l.editable;if($.isFunction(n)&&(n=n.call(i,{rowid:e,id:stripPref(i.p.idPrefix,e),iCol:t,iRow:o.rowIndex,cmName:l.name,cm:l,mode:a.mode,td:o.cells[t],tr:o,dataElement:jgrid.getDataFieldOfCell.call(i,o,t)[0]})),!0===n)return!0}return!1},getRowData:function(e,t){var r,i={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each(function(){var a,o,l,n,s,d,c,u=this,g=u.p,p=!1,f=1,h=u.rows;if(void 0===e)p=!0,r=[],f=h.length;else if(!(a=base.getGridRowById.call($(u),e)))return i;for(o=0;o<f;o++)if(p&&(a=h[o]),$(a).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(u,e),n=$(a).find("td[role=gridcell]"),l=0;l<n.length;l++)if(s=g.colModel[l],d=s.name,$.inArray(d,g.reservedColumnNames)<0&&"actions"!==s.formatter&&(!t.skipHidden||!s.hidden))if(c=n[l],base.isCellEditing.call($(u),e,l,a))i[d]=jgrid.getEditedValue.call(u,jgrid.getDataFieldOfCell.call(u,a,l),s,{},s.editable);else if(!0===g.treeGrid&&d===g.ExpandColumn)i[d]=htmlDecode($("span",c).first().html());else try{i[d]=$.unformat.call(u,c,{rowId:e,colModel:s},l)}catch(e){i[d]=htmlDecode($(c).html())}!t.includeId||!1!==g.keyName&&null!=i[g.keyName]||(i[g.prmNames.id]=stripPref(g.idPrefix,a.id)),p&&(r.push(i),i={})}}),r||i},delRowData:function(e){var t=!1;return this.each(function(){var r,i,a,o=this,l=o.p,n=$.jgrid.detectRowEditing.call(o,e);if(!(r=base.getGridRowById.call($(o),e)))return!1;if(l.subGrid&&(a=$(r).next()).hasClass("ui-subgrid")&&a.remove(),null!=n)try{"inlineEditing"===n.mode&&null!=base.restoreRow?base.restoreRow.call($(o),e):"cellEditing"===n.mode&&null!=base.restoreCell&&base.restoreCell.call($(o),n.savedRow.id,n.savedRow.ic)}catch(e){}if(r.rowIndex===l.iRow&&(l.iRow=-1,l.iCol=-1),$(r).remove(),l.records--,l.reccount--,o.updatepager(!0,!1),t=!0,l.multiselect&&-1!==(i=$.inArray(e,l.selarrrow))&&l.selarrrow.splice(i,1),l.multiselect&&l.selarrrow.length>0?l.selrow=l.selarrrow[l.selarrrow.length-1]:l.selrow===e&&(l.selrow=null),"local"===l.datatype){var s=stripPref(l.idPrefix,e),d=l._index[s];void 0!==d&&(o.removeItemDataFromColumnIndex(s),l.data.splice(d,1),o.refreshIndex())}if(o.rebuildRowIndexes(),!0===l.altRows&&t&&!$(o).jqGrid("isBootstrapGuiStyle")){var c=l.altclass,u=o.grid.fbRows;$(o.rows).each(function(e){var t=$(this);u&&(t=t.add(u[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](c)})}feedback.call(o,"afterDelRow",e)}),t},setRowData:function(e,t,r){var i=!0;return this.each(function(){var a,o=this,l=o.p,n=typeof r,s={};if(!o.grid)return!1;if(!(a=base.getGridRowById.call($(o),e)))return!1;if(t)try{var d,c=stripPref(l.idPrefix,e),u=l._index[c],g={},p=null!=u?l.data[u]:void 0;if($(l.colModel).each(function(e){var r=this,i=r.name,a=getAccessor(t,i);void 0!==a&&("local"===l.datatype&&null!=p&&(a=convertOnSaveLocally.call(o,a,r,p[i],c,p,e),$.isFunction(r.saveLocally)?r.saveLocally.call(o,{newValue:a,newItem:s,oldItem:p,id:c,cm:r,cmName:i,iCol:e}):s[i]=a),g[i]=a)}),$(l.colModel).each(function(r){var i,n=this,d=n.name,c=getAccessor(t,d),u=$(a.cells[r]);if(void 0!==c){"local"===l.datatype&&null!=p&&(c=s[d]),i=n.title?{title:c}:{},c=o.formatter(e,c,r,t,"edit",g),"select"===n.formatter&&(i=n.title?{title:stripHtml(c)}:{});var f=u;!0===l.treeGrid&&d===l.ExpandColumn&&(f=f.children("span.cell-wrapperleaf,span.cell-wrapper").first()),f.html(c),u.attr(i),l.frozenColumns&&(f=$(o.grid.fbRows[a.rowIndex].cells[r]),!0===l.treeGrid&&d===l.ExpandColumn&&(f=f.children("span.cell-wrapperleaf,span.cell-wrapper").first()),f.html(c).attr(i))}}),"local"===l.datatype){if(l.treeGrid)for(d in l.treeReader)l.treeReader.hasOwnProperty(d)&&delete s[l.treeReader[d]];void 0!==p&&(l.data[u]=$.extend(!0,p,s),o.removeItemDataFromColumnIndex(c),o.addItemDataToColumnIndex(l.data[u],c))}feedback.call(o,"afterSetRow",{rowid:e,inputData:t,iData:u,iRow:a.rowIndex,tr:a,localData:s,cssProp:r})}catch(e){i=!1}i&&("string"===n?$(a).addClass(r):null!==r&&"object"===n&&$(a).css(r))}),i},changeRowid:function(e,t){return this.each(function(){var r,i,a,o,l,n,s,d=this,c=$(d),u=d.p;if(d.grid&&u&&e!==t&&(o=c.jqGrid("getGridRowById",e))&&null==c.jqGrid("getGridRowById",t)){var g=jgrid.stripPref(u.idPrefix,e),p=jgrid.stripPref(u.idPrefix,t),f=!1===u.keyName?u.prmNames.id:u.keyName;for(u.iColByName[f]>=0&&c.jqGrid("setCell",e,f,p),"local"===u.datatype&&void 0!==u._index[g]&&(u._index[p]=u._index[g],r=u.data[u._index[g]],delete u._index[g],r.hasOwnProperty(f)&&(r[f]=p)),u.rowIndexes[t]=o.rowIndex,delete u.rowIndexes[e],(l=null==d.grid.fbRows?$(o):$(o).add(d.grid.fbRows[o.rowIndex])).attr("id",t),u.selrow===e&&(u.selrow=t),$.isArray(u.selarrrow)&&(i=$.inArray(e,u.selarrrow))>=0&&(u.selarrrow[i]=t),u.multiselect&&(a="jqg_"+u.id+"_"+t,l.find("input.cbox").attr("id",a).attr("name",a)),i=0;i<u.colModel.length;i++)"actions"===(n=u.colModel[i]).formatter?l.find(".ui-jqgrid-actions .ui-pg-div").each(function(){var e=this.id,t=e.length-g.length;t>0&&e.substr(t)===g&&$(this).attr("id",e.substr(0,t)+p)}):("showlink"===n.formatter||null!=n.unformat&&null!=n.formatter)&&(s=c.jqGrid("getCell",t,i),c.jqGrid("setCell",t,i,s,!1,!1,!0));feedback.call(d,"afterChangeRowid",{rowid:t,oldRowid:e,iRow:o.rowIndex,tr:o})}})},addRowData:function(e,t,r,i){$.inArray(r,["first","last","before","after","afterSelected","beforeSelected"])<0&&(r="last");var a,o,l,n,s,d,c,u,g,p,f,h=!1;return t&&($.isArray(t)?(d=!0,c=e):(t=[t],d=!1),this.each(function(){var m,v,b=this,w=b.p,y=t.length,C=$(b),x=b.rows,j=0,D=base.getGridRowById,_=w.colModel,R=w.additionalProperties;for(d||(void 0!==e?e=String(e):(e=randId(),!1!==w.keyName&&(c=w.keyName,void 0!==t[0][c]&&(e=t[0][c])))),u=w.altclass;j<y;){if(g=t[j],o=[],d)try{void 0===(e=g[c])&&(e=randId())}catch(t){e=randId()}for(f=jgrid.stripPref(w.idPrefix,e),m={},n=0;n<_.length;n++)p=_[n],"rn"!==(a=p.name)&&"cb"!==a&&"subgrid"!==a&&(s=convertOnSaveLocally.call(b,g[a],p,void 0,f,{},n),$.isFunction(p.saveLocally)?p.saveLocally.call(b,{newValue:s,newItem:m,oldItem:{},id:f,rowid:e,cm:p,cmName:a,iCol:n}):void 0!==s&&(m[a]=s));for(n=0;n<R.length;n++)"object"==typeof(a=R[n])&&a.hasOwnProperty("name")&&(a=a.name),void 0!==(s=getAccessor(g,a))&&(m[a]=s);if("local"===w.datatype&&(m[w.localReader.id]=f,w._index[f]=w.data.length,w.data.push(m),b.addItemDataToColumnIndex(m,f)),v=w.grouping,w.grouping=!1,o=jgrid.parseDataToHtml.call(b,1,[e],[g]),w.grouping=v,o=o.join(""),0===x.length)$(b.tBodies[0]).append(o);else switch("afterSelected"!==r&&"beforeSelected"!==r||(void 0===i&&null!==w.selrow?(i=w.selrow,r="afterSelected"===r?"after":"before"):r="afterSelected"===r?"last":"first"),r){case"last":$(x[x.length-1]).after(o),l=x.length-1;break;case"first":$(x[0]).after(o),l=1;break;case"after":(l=D.call(C,i))&&($(x[l.rowIndex+1]).hasClass("ui-subgrid")?($(x[l.rowIndex+1]).after(o),l=l.rowIndex+2):($(l).after(o),l=l.rowIndex+1));break;case"before":(l=D.call(C,i))&&($(l).before(o),l=l.rowIndex-1)}!0===w.subGrid&&base.addSubGrid.call(C,w.iColByName.subgrid,l),w.records++,w.reccount++,0===w.lastpage&&(w.lastpage=1),feedback.call(b,"afterAddRow",{rowid:e,inputData:t,position:r,srcRowid:i,iRow:l,localData:m,iData:w.data.length-1}),j++}!0!==w.altRows||d||C.jqGrid("isBootstrapGuiStyle")||("last"===r?(x.length-1)%2==0&&$(x[x.length-1]).addClass(u):$(x).each(function(e){e%2==1?$(this).addClass(u):$(this).removeClass(u)})),b.rebuildRowIndexes(),b.updatepager(!0,!0),h=!0})),h},footerData:function(e,t,r){function i(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var a=!1,o={};return null==e&&(e="get"),"boolean"!=typeof r&&(r=!0),e=e.toLowerCase(),this.each(function(){var l,n,s,d,c=this,u=c.p;if(!c.grid||!u.footerrow)return!1;if("set"===e&&i(t))return!1;a=!0;var g=$(c.grid.sDiv).children(".ui-jqgrid-hbox").children(".ui-jqgrid-ftable")[0];if(null==g||null==g.rows)return!1;var p=g.rows[0].cells,f=u.colModel,h=null==c.grid.fsDiv?{}:c.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===e)for(d=0;d<f.length;d++)s=f[d].name,$.inArray(s,u.reservedColumnNames)<0&&(!1!==t?(l=$(p[d]).text(),$.trim(l)&&(o[s]=l)):o[s]=$(p[d]).html());else if("set"===e)for(s in t)d=u.iColByName[s],t.hasOwnProperty(s)&&void 0!==d&&(l=r?c.formatter("",t[s],d,t,"edit"):t[s],(n=$(p[d]).add(h[d])).html(l),f[d].title&&n.attr({title:stripHtml(l)}))}),"get"===e?o:a},resetColumnResizerHeight:function(){return this.each(function(){if($.jgrid.msie){var e,t,r,i,a=this.grid.headers;for(r=0;r<a.length;r++)(i=(e=$(a[r].el)).height())&&(t=e.children(".ui-jqgrid-resize")).length>0&&Math.abs(i-t.height())>.5&&e.children(".ui-jqgrid-resize").height(i)}})},rotateColumnHeaders:function(e,t){return this.each(function(){var r,i,a,o,l,n,s,d,c,u,g,p,f,h,m,v,b=$(this),w=this.p,y=w.frozenColumns&&$.isFunction(base.getNumberOfFrozenColumns)?b.jqGrid("getNumberOfFrozenColumns"):0;for($.isArray(e)||(e=[e]),r=0;r<e.length;r++)n=e[r],(i=isNaN(n)?w.iColByName[n]:parseInt(n,10))>=0&&(a=this.grid.headers[i].el,o=i<y?$(a).add($(this.grid.fhDiv.find("#"+jqID(a.id)))):$(a),s=o.children("div"),d=s.children("span.s-ico"),u=s.children("span.ui-jqgrid-sort-order"),(c=s.children("span."+w.autoResizing.wrapperClassName)).length<1&&(d.detach(),u.detach(),s.wrapInner("<span class='"+w.autoResizing.wrapperClassName+"'></span>"),c=s.children("span."+w.autoResizing.wrapperClassName),s.each(function(e){e<d.length&&$(this).append(d[e]),e<u.length&&$(this).append(u[e])})),g=d.outerWidth(!0),p=c.outerWidth(),m=parseFloat(o.css("padding-top")||0),v=parseFloat(o.css("padding-bottom")||0),f=parseFloat(o.css("padding-left")||0),h=parseFloat(o.css("padding-right")||0),w.showSortOrder&&(g+=.5*g),l=void 0===t||0===t?p+g+f+h:t,o.height(l),o.css({paddingTop:h+"px",paddingBottom:f+"px",paddingLeft:m+"px",paddingRight:v+"px"}),s.css("min-width",l-f-h+"px").addClass("ui-jqgrid-rotate").css({bottom:0}),w.colModel[i].rotated=!0);b.jqGrid("resetColumnResizerHeight"),w.frozenColumns&&setTimeout(function(){b.triggerHandler("jqGridResetFrozenHeights",{header:{resizeDiv:!0,resizedRows:{iRowStart:0,iRowEnd:-1}},resizeFooter:!0,body:{resizeDiv:!0,resizedRows:{iRowStart:-1,iRowEnd:-1}}})},0)})},showHideCol:function(e,t,r){return this.each(function(){var i,a=this,o=$(a),l=a.grid,n=!1,s=a.p,d=jgrid.cell_width?0:s.cellLayout;if(l){"string"==typeof e&&(e=[e]),t="none"!==t&&!1!==t?"":"none",r=r||{};var c=""===t,u=s.groupHeader,g=u&&("object"==typeof u||$.isFunction(u));if(g&&!r.skipSetGroupHeaders&&base.destroyGroupHeader.call(o,!1),$(s.colModel).each(function(o){var u=function(e){var r,i,a,l,n,d,u,g,p,f,h,m,v,b,w;for(r=0,i=e.length;r<i;r++)l=(a=e[r]).cells[o],(!$(a).hasClass("jqgroup")||null!=l&&1===l.colSpan)&&(n=$(l),0===r&&$(a).hasClass("jqgfirstrow")?(n.css("height","1px"),n.css("display",t),n.css("height","0")):n.css("display",t),c&&null!=l&&"TH"===l.tagName.toUpperCase()&&n.hasClass("ui-th-column")&&(d=n.children("div")).hasClass("ui-jqgrid-rotate")&&(u=d.children("span.s-ico"),(g=d.children("span."+s.autoResizing.wrapperClassName)).outerHeight(),p=g.outerWidth(),u.outerHeight(),f=u.outerWidth(!0),g.length>0&&(m=parseFloat(n.css("padding-top")||0),v=parseFloat(n.css("padding-bottom")||0),b=parseFloat(n.css("padding-left")||0),w=parseFloat(n.css("padding-right")||0),s.showSortOrder&&(f+=.5*f),h=p+f+b+w,n.height(h),n.css({paddingTop:w+"px",paddingBottom:b+"px",paddingLeft:m+"px",paddingRight:v+"px"}),d.css("min-width",h-b-w+"px").css({bottom:0}))))};if(-1!==$.inArray(this.name,e)&&this.hidden===c){if(!0===s.frozenColumns&&!0===this.frozen&&!r.notSkipFrozen)return!0;u($(l.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===s.frozenColumns&&null!=l.fhDiv&&u($(l.fhDiv).find(".ui-jqgrid-htable>thead>tr")),u(a.rows),!0===s.frozenColumns&&null!=l.fbRows&&u(a.rows),s.footerrow&&(u($(l.sDiv).find("tr.footrow")),!0===s.frozenColumns&&null!=l.fsDiv&&u($(l.fsDiv).find("tr.footrow"))),i=parseInt(this.width,10),"none"===t?s.tblwidth-=i+d:s.tblwidth+=i+d,this.hidden=!c,n=!0,r.skipFeedback?(r.toReport=r.toReport||{},r.toReport[this.name]=c):feedback.call(a,"onShowHideCol",c,this.name,o,r)}}),!0===n){var p=s.autowidth||void 0!==s.widthOrg&&"auto"!==s.widthOrg&&"100%"!==s.widthOrg?s.width:s.tblwidth+parseInt(s.scrollOffset,10);r.skipSetGridWidth?r.newGridWidth=p:base.setGridWidth.call(o,p)}if(g&&!r.skipSetGroupHeaders)if(null!=s.pivotOptions&&null!=s.pivotOptions.colHeaders&&s.pivotOptions.colHeaders.length>1){var f,h=s.pivotOptions.colHeaders;for(f=0;f<h.length;f++)h[f]&&h[f].groupHeaders.length&&base.setGroupHeaders.call(o,h[f])}else base.setGroupHeaders.call(o,s.groupHeader)}})},hideCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"none",t)})},showCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"",t)})},remapColumns:function(e,t,r){function i(e){var t=e.length?g(e):$.extend({},e);$.each(s,function(r){e[r]=t[this]})}function a(e,t){(t?e.children(t):e.children()).each(function(){var e=this,t=g(e.cells);$.each(s,function(r){var i=t[this],a=e.cells[r];null!=i&&null!=a&&i.cellIndex!==r&&i.parentNode.insertBefore(i,a)})})}var o,l,n,s,d=this[0],c=d.p,u=d.grid,g=$.makeArray,p=!0===c.frozenColumns,f=this.jqGrid("getNumberOfFrozenColumns");if(null!=u&&null!=c){for(s=function(){var t,r=[],i=[],a=e.length;for(t=0;t<a;t++)p&&e[t]<f?r.push(e[t]):i.push(e[t]);return r.concat(i)}(),i(c.colModel),i(c.colNames),i(u.headers),n=$(u.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),p&&null!=u.fhDiv&&(n=n.add(u.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),a(n,r&&":not(.ui-jqgrid-labels)"),t&&(n=$(d.tBodies[0]),p&&null!=u.fbDiv&&(n=n.add(u.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),a(n,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),c.footerrow&&(n=$(u.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),p&&null!=u.fsDiv&&(n=n.add(u.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),a(n)),c.remapColumns&&(c.remapColumns.length?i(c.remapColumns):c.remapColumns=g(s)),c.lastsort=$.inArray(c.lastsort,s),c.iColByName={},o=0,l=c.colModel.length;o<l;o++)c.iColByName[c.colModel[o].name]=o;feedback.call(d,"onRemapColumns",s,t,r)}},remapColumnsByName:function(e,t,r){var i,a,o=this[0].p,l=[],n=e.slice(),s=$.inArray;for(o.subGrid&&s("subgrid",n)<0&&n.unshift("subgrid"),o.multiselect&&s("cb",n)<0&&n.unshift("cb"),o.rownumbers&&s("rn",n)<0&&n.unshift("rn"),i=0,a=n.length;i<a;i++)l.push(o.iColByName[n[i]]);return base.remapColumns.call(this,l,t,r),this},setGridWidth:function(e,t){return this.each(function(){var r,i,a,o,l=this,n=l.p,s=l.grid,d=0,c=0,u=!1,g=0,p=jgrid.isCellClassHidden,f=e;if(s&&null!=n){l.fixScrollOffsetAndhBoxPadding();var h,m,v,b,w=n.colModel,y=n.scrollOffset,C=jgrid.cell_width?0:n.cellLayout,x=s.headers,j=s.footers,D=s.bDiv,_=s.hDiv,R=s.sDiv,S=s.cols,N=$(_).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,I=function(e){s.width=n.width=e,$(n.gBox).css("width",e+"px"),$(n.gView).css("width",e+"px"),$(D).css("width",e+"px"),$(_).css("width",e+"px"),n.pager&&$(n.pager).css("width",e+"px"),n.toppager&&$(n.toppager).css("width",e+"px"),!0===n.toolbar[0]&&($(s.uDiv).css("width",e+"px"),"both"===n.toolbar[1]&&$(s.ubDiv).css("width",e+"px")),n.footerrow&&$(R).css("width",e+"px")};if("boolean"!=typeof t&&(t=n.shrinkToFit),!isNaN(f)){if(f=parseInt(f,10),I(f),!1===t&&!0===n.forceFit&&(n.forceFit=!1),!0===t){if($.each(w,function(){!1!==this.hidden||p(this.classes)||(r=this.widthOrg,d+=r+C,this.fixed?g+=this.width+C:c++)}),0===c)return;if(n.tblwidth=parseInt(d,10),a=f-C*c-g,isNaN(n.height)||(D.clientHeight<D.scrollHeight||1===l.rows.length)&&(u=!0,a-=y),(b=a/(n.tblwidth-C*c-g))<0)return;if(d=0,v=S.length>0,$.each(w,function(e){!1!==this.hidden||p(this.classes)||this.fixed||(r=Math.round(this.widthOrg*b),this.width=r,d+=r,x[e].width=r,N[e].style.width=r+"px",n.footerrow&&(j[e].style.width=r+"px"),v&&(S[e].style.width=r+"px"),i=e)}),!i)return;o=0,u?f-g-(d+C*c)!==y&&(o=f-g-(d+C*c)-y):1!==Math.abs(f-g-(d+C*c))&&(o=f-g-(d+C*c)),(h=w[i]).width+=o,n.tblwidth=parseInt(d+o+C*c+g,10),n.tblwidth>f&&(m=n.tblwidth-parseInt(f,10),n.tblwidth=f,h.width=h.width-m),r=h.width,x[i].width=r,N[i].style.width=r+"px",v&&(S[i].style.width=r+"px"),n.footerrow&&(j[i].style.width=r+"px"),n.tblwidth+(u?y:0)<n.width&&I(n.tblwidth+(u?y:0)),D.offsetWidth>D.clientWidth&&(n.autowidth||void 0!==n.widthOrg&&"auto"!==n.widthOrg&&"100%"!==n.widthOrg||I(D.offsetWidth))}n.tblwidth&&(n.tblwidth=parseInt(n.tblwidth,10),f=n.tblwidth,_.scrollLeft=D.scrollLeft,m=Math.abs(f-n.width),n.shrinkToFit&&!t&&m<3&&m>0&&(f<n.width&&I(f),D.offsetWidth>D.clientWidth&&(n.autowidth||void 0!==n.widthOrg&&"auto"!==n.widthOrg&&"100%"!==n.widthOrg||I(D.offsetWidth)))),l.fixScrollOffsetAndhBoxPadding();var O={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(l).triggerHandler("jqGridResetFrozenHeights",[{header:O,resizeFooter:!0,body:O}])}}})},setGridHeight:function(e){return this.each(function(){var t=this,r=t.grid,i=t.p;if(r){var a=$(r.bDiv);a.css({height:e+(isNaN(e)?"":"px")}),!0===i.frozenColumns&&$(i.idSel+"_frozen").parent().height(a.height()-16),i.height=e,i.scroll&&r.populateVisible.call(t),t.fixScrollOffsetAndhBoxPadding(),$(t).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(e){return this.each(function(){var t=this,r=t.grid.cDiv;t.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",r).html(e),$(r).show(),$(r).nextAll("div").removeClass(base.getGuiStyles.call(t,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(e,t,r,i){return this.each(function(){var a,o,l=this,n=l.p;if(l.grid){if(isNaN(e)){if(void 0===(a=n.iColByName[e]))return}else a=parseInt(e,10);a>=0&&(o=$(l.grid.headers[a].el),n.frozenColumns&&(o=o.add(l.grid.fhDiv.find("#"+jqID(o)))),t&&(o.each(function(){var e=$("[id^=jqgh_]",this),r=e.children("span.ui-jqgrid-cell-wrapper");if(r.length>0)r.html(t);else{var i=$(".s-ico",this);e.empty().html(t)[n.sortIconsBeforeText?"prepend":"append"](i)}}),n.colNames[a]=t),r&&("string"==typeof r?o.addClass(r):o.css(r)),"object"==typeof i&&o.attr(i))}})},setCell:function(e,t,r,i,a,o){return this.each(function(){var l,n,s,d,c,u,g,p,f,h,m=this,v=m.p,b=-1,w=v.colModel,y={};if(m.grid&&(b=isNaN(t)?v.iColByName[t]:parseInt(t,10))>=0&&(c=base.getGridRowById.call($(m),e))){if(u=jgrid.getCell.call(m,c,b),""!==r||!0===o){if(s=w[b],"local"===v.datatype&&(f=stripPref(v.idPrefix,e),void 0!==(h=v._index[f])&&(d=v.data[h])),null==d){for(n=0;n<c.cells.length;n++)if(n!==b&&(g=jgrid.getDataFieldOfCell.call(m,c,n)).length>0){try{p=$.unformat.call(m,g,{rowId:e,colModel:w[n]},n)}catch(e){p=htmlDecode(g[0].innerHTML)}y[w[n].name]=p}}else y=d;y[s.name]=r,l=m.formatter(e,r,b,y,"edit");var C=u;!0===v.treeGrid&&s.name===v.ExpandColumn&&(C=C.children("span.cell-wrapperleaf,span.cell-wrapper").first()),C.html(l),s.title&&u.attr({title:r}),null!=d&&(l=convertOnSaveLocally.call(m,r,s,d[s.name],f,d,b),$.isFunction(s.saveLocally)?s.saveLocally.call(m,{newValue:l,newItem:d,oldItem:d,id:f,cm:s,cmName:s.name,iCol:b}):d[s.name]=l)}(i||a)&&(u=jgrid.getCell.call(m,c,b),i&&u["string"==typeof i?"addClass":"css"](i),"object"==typeof a&&u.attr(a))}})},getCell:function(e,t){var r=!1;return this.each(function(){var i,a,o,l,n=this,s=n.p;if(n.grid&&(i=isNaN(t)?s.iColByName[t]:parseInt(t,10))>=0&&(a=base.getGridRowById.call($(n),e))){o=jgrid.getDataFieldOfCell.call(n,a,i).first(),l=s.colModel[i];try{r=base.isCellEditing.call($(n),e,i,a)?jgrid.getEditedValue.call(n,o,l,{},l.editable):$.unformat.call(n,o,{rowId:a.id,colModel:l},i)}catch(e){r=htmlDecode(o.html())}}}),r},getCol:function(e,t,r){var i,a,o,l,n=[],s=0;return t="boolean"==typeof t&&t,void 0===r&&(r=!1),this.each(function(){var d,c,u=this,g=u.p;if(u.grid&&(d=isNaN(e)?g.iColByName[e]:parseInt(e,10))>=0){var p,f,h=u.rows,m=h.length,v=0,b=0,w=g.colModel[d];if(m&&m>0){for(;v<m;){if(p=h[v],$(p).hasClass("jqgrow")){c=jgrid.getDataFieldOfCell.call(u,p,d).first(),f=p.id;try{i=base.isCellEditing.call($(u),f,d,p)?jgrid.getEditedValue.call(u,c,w,{},w.editable):$.unformat.call(u,c,{rowId:f,colModel:w},d)}catch(e){i=htmlDecode(c.html())}r?(l=parseFloat(i),isNaN(l)||(s+=l,void 0===o&&(o=a=l),a=Math.min(a,l),o=Math.max(o,l),b++)):t?n.push({id:f,value:i}):n.push(i)}v++}if(r)switch(r.toLowerCase()){case"sum":n=s;break;case"avg":n=s/b;break;case"count":n=m-1;break;case"min":n=a;break;case"max":n=o}}}}),n},clearGridData:function(e){return this.each(function(){var t=this,r=t.p,i=t.rows,a=t.grid;a&&r&&i&&("boolean"!=typeof e&&(e=!1),$(t).off(".jqGridFormatter"),a.emptyRows.call(t,!1,!0),r.footerrow&&e&&$(".ui-jqgrid-ftable td",a.sDiv).html("&#160;"),r.selrow=null,clearArray(r.selarrrow),clearArray(r.savedRow),r.editingInfo={},clearArray(r.data),clearArray(r.lastSelectedData),r._index={},r.rowIndexes={},r.dataIndexById={},r.indexByColumnData={},r.records=0,r.page=1,r.lastpage=0,r.reccount=0,t.updatepager(!0,!1))})},getInd:function(e,t){var r=base.getGridRowById.call($(this),e);return!!r&&(!0===t?r:r.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this,r=e.p,i=$(e);r.scrollrows=t.scrollingRows,i.on("keydown.jqGrid",function(a){var o=$(this).find("tr[tabindex=0]")[0],l=jgrid.detectRowEditing.call(e,$(a.target).closest("tr.jqgrow").attr("id")),n=function(e){do{if(null===(o=o[e]))return}while($(o).is(":hidden")||!$(o).hasClass("jqgrow"));base.setSelection.call(i,o.id,!0),a.preventDefault()},s=function(a,o){var l=t["on"+a+(o||"")];i.triggerHandler("jqGridKey"+a,[r.selrow]),$.isFunction(l)&&l.call(e,r.selrow)},d=function(e){if(r.treeGrid){var t=r.data[r._index[stripPref(r.idPrefix,o.id)]][r.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(o).find("div.treeclick").trigger("click")}s(e,"Key")};if(o&&null===l)switch(a.keyCode){case 38:n("previousSibling");break;case 40:n("nextSibling");break;case 37:d("Left");break;case 39:d("Right");break;case 13:s("Enter");break;case 32:s("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).off("keydown.jqGrid")})},getLocalRow:function(e){var t,r=!1;return this.each(function(){var i=this.p;void 0!==e&&null!=i&&null!=i._index&&null!=i.data&&(t=i._index[stripPref(i.idPrefix,e)])>=0&&(r=i.data[t])}),r},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t="show"===e.method,r=jqID(this.p.id),i=$("#load_"+r);switch(""!==e.htmlcontent&&i.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":i.toggle(t);break;case"block":$("#lui_"+r).toggle(t),i.toggle(t)}})},setColWidth:function(e,t,r,i){return this.each(function(){var a,o=this,l=$(o),n=o.grid,s=o.p;if("string"==typeof e){if(void 0===(e=s.iColByName[e]))return}else if("number"!=typeof e)return;null!=(a=n.headers[e])&&(a.newWidth=t,n.newWidth=s.tblwidth+t-a.width,n.resizeColumn(e,!s.frozenColumns,i),!1===r||i||(o.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(l,n.newWidth+s.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;var r,i,a,o,l,n=(t=t[0]).rows,s=t.p,d=s.colModel[e],c=$(t.grid.headers[e].el),u=c.children("div"),g=parseFloat(c.css(d.rotated?"padding-top":"padding-left")||0),p=parseFloat(c.css(d.rotated?"padding-bottom":"padding-right")||0),f=u.children("span.s-ico"),h=u.children(".ui-jqgrid-sort-order"),m=u.children("."+s.autoResizing.wrapperClassName),v=d.rotated?m.outerHeight():m.outerWidth(),b=parseFloat(m.css(d.rotated?"height":"width")||0),w=0,y=0,C=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:s.autoResizing.compact,x=s.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===m.length||d.hidden||jgrid.isCellClassHidden(d.classes)||d.fixed)return-1;for(C&&!f.is(":visible")&&"none"===f.css("display")||(y=d.rotated?f.outerHeight(!0):f.outerWidth(!0)+(h.length>0?h.outerWidth(!0):0),s.sortIconsBeforeText||(y-="rtl"===s.direction?parseFloat(f.css("padding-left")||0)+parseFloat(f.css("margin-left")||0):parseFloat(f.css("padding-right")||0)+parseFloat(f.css("margin-right")||0))),d.rotated?y=Math.max(y,v+g+p):y+=v+g+(b===v?g+p:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),a=0,n=t.rows;a<n.length;a++)i=(r=n[a]).cells[e],o=$(r.cells[e]),null!=i&&($(r).hasClass("jqgrow")||$(r).hasClass("jqgroup")&&1===i.colSpan)?(l=$(i.firstChild)).hasClass(x)?y=Math.max(y,l.outerWidth()+w):s.treeGrid&&s.ExpandColumn===d.name&&(l=o.children(".cell-wrapper,.cell-wrapperleaf"),y=Math.max(y,l.outerWidth()+w+o.children(".tree-wrap").outerWidth())):$(r).hasClass("jqgfirstrow")&&(w=(jgrid.cell_width?parseFloat(o.css("padding-left")||0)+parseFloat(o.css("padding-right")||0):0)+parseFloat(o.css("border-right")||0)+parseFloat(o.css("border-left")||0));return y=Math.max(y,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:s.autoResizing.minColWidth),Math.min(y,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:s.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each(function(){var r,i=this,a=$(this),o=i.p,l=o.colModel[e],n=$(i.grid.headers[e].el),s=base.getAutoResizableWidth.call(a,e),d=(l.autoResizing||{}).resetWidthOrg;null==l||s<0||s===l.width||(base.setColWidth.call(a,e,s,o.autoResizing.adjustGridWidth&&!o.autoResizing.fixWidthOnShrink&&!t,t),o.autoResizing.fixWidthOnShrink&&o.shrinkToFit&&!t&&(l.fixed=!0,r=l.widthOrg,l.widthOrg=l.width,base.setGridWidth.call(a,o.width,!0),l.widthOrg=r,l.fixed=!1),(d||void 0===d&&o.autoResizing.resetWidthOrg)&&(l.widthOrg=l.width),n.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,r=this,i=$(r),a=r.p,o=a.colModel,l=o.length,n=a.shrinkToFit,s=a.autoResizing.adjustGridWidth,d=a.autoResizing.fixWidthOnShrink,c=parseInt(a.widthOrg,10),u=r.grid,g=base.autoResizeColumn;for(a.shrinkToFit=!1,a.autoResizing.adjustGridWidth=!0,a.autoResizing.fixWidthOnShrink=!1,e=0;e<l;e++)(t=o[e]).autoResizable&&"actions"!==t.formatter&&g.call(i,e,!0);u.hDiv.scrollLeft=u.bDiv.scrollLeft,a.footerrow&&(u.sDiv.scrollLeft=u.bDiv.scrollLeft),r.fixScrollOffsetAndhBoxPadding(),isNaN(c)?s&&base.setGridWidth.call(i,u.newWidth+a.scrollOffset,!1):base.setGridWidth.call(i,c,!1),a.autoResizing.fixWidthOnShrink=d,a.autoResizing.adjustGridWidth=s,a.shrinkToFit=n})}})});
//# sourceMappingURL=grid.base.js.map